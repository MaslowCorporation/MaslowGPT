import{c2 as MaslowGPTSDK,i as instance,F as GetFileContentsIfExisting,b$ as toPascalCase,bW as getNPMFolderRoot,b_ as userChoices,cd as getProperFolderName,ce as getProperExtension,c9 as Constants,g as getGeneratePrompts,a as getAddStringPrompts,bZ as AddIntlString,cf as InjectStuffUnderPatterns,H as getPathWithForwardSlashes,cg as userChoices$1,ch as getQuestionType,ci as GetCustomTemplateName,c as getAllQuestionPrompts,y as DeleteOldFunctionShit$3,O as OpenFilesInVSCodeAndPrintMsg$p,x as makeCHATGPTFuncRequest$3,z as CreateNewFunctionShit,B as createFullMaslowJSONFile,cj as userChoices$2,b as getAddDefaultAppTemplatePrompts,ck as toCamelCase,C as CommandNames,w as AddCommandPrompts,cl as DeleteFolderContents,cm as GetChatGPTFunction,c3 as getDataFromNPMMaslowJSON,c6 as MASLOW_API_KEY,c5 as ShowErrorMsg,E as AddCodeUseExample,G as GenerateAudioFromTextPrompts,c1 as TerminalSpinner,c0 as CreateFileFromScratch,cn as app_strings,d as GenerateArtPrompts,e as GenerateCodeFromFolderPrompts,L as LoadCodeFolderPrompts,A as AddCommandFromGithubPrompts,bT as getDefaultExportFromCjs,f as CreateCommandPrompts,co as readFilesRecursively,h as CreateTemplatePrompts,I as GetJSONObjectFromPath,bX as PromptUser,S as SetTemplatesFolderPrompts,j as GenerateCodePrompts,c4 as GetNewStringPart,U as UploadReadmePicsPrompts,k as CreateReadmeFromPicsPrompts,cp as GetUniqueID,cq as GetRelativePathFromTo,l as CreateBackendServerPrompts,cr as GetFileContentsRaw,m as SetApiKeyPrompts,n as AddSdkMethodPrompts,o as AddApiEndpointPrompts,p as CreateNpmPackagePrompts,q as SetAiModelPrompts,T as TranslateStringsPrompts,r as CreateReactNativeAppPrompts,D as DuplicateThingPrompts,s as DeleteThingPrompts,t as AddCommandActionsPrompts,u as AddCommandPromptsPrompts,v as AskQuestionPrompts}from"./ToPascalCase-_OML_ESK.js";import fs__default from"fs";import path from"path";import"os";import"url";import require$$1 from"child_process";import"crypto";import"util";import"stream";import"http";import"https";import"assert";import"tty";import"zlib";import"events";import"node:process";import"node:os";import"node:tty";import"node:assert";import"readline";import"buffer";import"string_decoder";import"node:readline";import"node:path";import"node:url";const TranslateObject=MaslowGPTSDK.TranslateObject,OutputFolderPathPromptText=e=>({type:"input",filter:function(e){return e?.trim()},name:"TemplateOutputPath",default:e=>{},message:instance.t("xV0HEbUP")+` ${e}`}),GetChatGPTOutput=MaslowGPTSDK.GetGPTOutput;function componentInitAndCie({actualJsFile:e,subfolder:t}){return[{type:"append",path:path.join(`${process.cwd()}/${e}`),pattern:"/* PLOP_INJECT_IMPORT */",template:`import {\n\t{{pascalCase name}}\n} from "${t}/{{pascalCase name}}/{{pascalCase name}}";`,abortOnFail:!0,when:t=>null!=e}]}const createHBSFiles=({filePaths:e,wordsInHBSFileName:t,wordsInFile:o,wordsInFilePath:n})=>e.filter((e=>{const t=e.fullFilePath;return".hbs"!=path.parse(t).ext})).map((e=>{const a=e.fullFilePath,r=path.parse(a),s=r.name,i=r.ext,p=r.dir,c=s?.replace(new RegExp(t.word,"g"),t.replaceWordWith),l=path.join(p,c+i+".hbs");let d=e.filePathFromRoot;n.forEach((e=>{d=d?.replace(new RegExp(e.word,"g"),e.replaceWordWith)}));const m=path.parse(e.filePathFromRoot),u=path.join(m.dir,m.name?.replace(new RegExp(t.word,"g"),t.replaceWordWith)+i+".hbs");return fs__default.copyFileSync(a,l),o.forEach((e=>replaceWordInFile({fileName:l,word:e.word,replaceWordWith:e.replaceWordWith}))),replaceWordInFile({fileName:l,word:"{{",replaceWordWith:"\\{{"}),{hbsFilePath:l,hbsFilePathFromAppRoot:u,filePathFromAppRoot:d}}));function replaceWordInFile({fileName:e,word:t,replaceWordWith:o}){const n=GetFileContentsIfExisting(e),a=n?.replace(new RegExp(t,"g"),o);return fs__default.writeFileSync(e,a),{fileName:e,contentsFixed:a}}const createPLOPAdds=({hbsFiles:e,templateFolderPathFromAppRoot:t,creationFolderFromAppRoot:o})=>e.map((e=>({type:"add",force:!0,path:path.join(process.cwd(),o,e.filePathFromAppRoot),templateFile:path.join(t,e.hbsFilePathFromAppRoot)}))),getAllFilesFromFolder=function({parentFolderPath:e,childFolderPath:t}){var o=[];return fs__default.readdirSync(e).forEach((function(n){const a=e+"/"+n,r=path.join(t,n);var s=fs__default.statSync(a);s&&s.isDirectory()?o=o.concat(getAllFilesFromFolder({parentFolderPath:a,childFolderPath:r})):o.push({fullFilePath:a,filePathFromRoot:r})})),o},createTemplateFromFolder=({templateFolderPath:e,templateFolderPathFromAppRoot:t,creationFolderFromAppRoot:o,wordsInFile:n,wordsInFilePath:a,wordsInHBSFileName:r})=>{const s=getAllFilesFromFolder({parentFolderPath:e,childFolderPath:""}),i=createHBSFiles({filePaths:s,wordsInHBSFileName:r,wordsInFile:n,wordsInFilePath:a});return createPLOPAdds({hbsFiles:i,templateFolderPathFromAppRoot:t,creationFolderFromAppRoot:o})};function createComponent({subfolder:e,appRootPathFromC:t,actualJsFile:o,name:n}){const a=toPascalCase(n),r="plop-templates/hbs-files/TrucsComponent",s=path.join(getNPMFolderRoot(),r);return createTemplateFromFolder({templateFolderPath:s,templateFolderPathFromAppRoot:r,creationFolderFromAppRoot:`${e}/${a}`,wordsInFilePath:[{word:"ThumbnailPicker",replaceWordWith:a}],wordsInFile:[{word:"ThumbnailPicker",replaceWordWith:a}],wordsInHBSFileName:{word:"ThumbnailPicker",replaceWordWith:"Items"}}).concat(componentInitAndCie({actualJsFile:o,subfolder:e}))}function initHTDPAndCie(e,t){return[{type:"append",path:path.join(`${process.cwd()}/${e}`),pattern:"/* PLOP_INJECT_IMPORT */",template:'// import { useState } from "react";',abortOnFail:!1,when:t=>null!=e},{type:"append",path:path.join(`${process.cwd()}/${e}`),pattern:"/* PLOP_INJECT_IMPORT */",template:`import {\n\t{{pascalCase name}}\n} from "${t}/{{pascalCase name}}/{{pascalCase name}}";`,abortOnFail:!1,when:t=>null!=e},{type:"append",path:path.join(`${process.cwd()}/${e}`),pattern:"/* PLOP_INJECT_CODE */",template:"\t// const [{{name}}, set{{pascalCase name}}] = useState({{pascalCase name}}.{{pascalCase name}}1);",abortOnFail:!1,when:t=>null!=e}]}function createHTDPTemplate({appRootPathFromC:e,actualJsFile:t,subfolder:o,name:n}){const a=toPascalCase(n),r="plop-templates/hbs-files/TrucsHTDP",s=path.join(getNPMFolderRoot(),r);return createTemplateFromFolder({templateFolderPath:s,templateFolderPathFromAppRoot:r,creationFolderFromAppRoot:`${o}/${a}`,wordsInFilePath:[{word:"Trucs",replaceWordWith:a}],wordsInFile:[{word:"Trucs",replaceWordWith:a}],wordsInHBSFileName:{word:"Trucs",replaceWordWith:"Items"}}).concat(initHTDPAndCie(t,o))}function addFrenchStrings$1(e){const t=e.get_string_repo,o=e.get_appbar_title_name,n=e.get_appbar_title_src,a=e.empty_db_msg_name,r=e.empty_db_msg_src,s=e.empty_db_btn_msg_name,i=e.empty_db_btn_msg_src,p=e.get_add_name_prompt_strname,c=e.get_add_name_error_strname,l=e.get_add_name_prompt,d=e.get_add_name_error;return{type:"append",path:path.join(`${process.cwd()}/src/stringRepos/${t}/${t}.js`),pattern:"/* PLOP_INJECT_SRC_STRING */",template:`\n\t\t${o}: "${n}",\n\t\t${a}: "${r}",\n\t\t${s}: "${i}",\n\t\t${p}: "${l}",\n\t\t${c}: "${d}",\n`}}function createPageInitAndCie({subfolder:e,pageAndSubpageData:t}){return[{type:"append",path:path.join(`${process.cwd()}/AppPieces/AppMainComponent.js`),pattern:"/* PLOP_INJECT_IMPORT */",template:`import {\n\t{{pascalCase name}}\n} from "${e}/{{pascalCase name}}/{{pascalCase name}}";`,abortOnFail:!0},{type:"append",path:path.join(`${process.cwd()}/AppPieces/AppMainComponent.js`),pattern:"{/* PLOP_INJECT_PAGES_PARAMS */}",template:'\t\t\t\t\t\t\t<Stack.Screen \n\t\t\t\t\t\t\t\tname="{{pascalCase name}}" \n\t\t\t\t\t\t\t\tcomponent={ \n\t\t\t\t\t\t\t\t\t{{pascalCase name}}\n\t\t\t\t\t\t\t\t} \n\t\t\t\t\t\t\t\tinitialParams={\n\t\t\t\t\t\t\t\t\tappState.initialState\n\t\t\t\t\t\t\t\t} />'},addFrenchStrings$1(t)]}function createPage({subfolder:e,appRootPathFromC:t,actualJsFile:o,name:n,pageAndSubpageData:a}){const r=toPascalCase(n),s="plop-templates/hbs-files/TrucsPage",i=path.join(getNPMFolderRoot(),s);a.get_add_name_prompt,a.get_add_name_error;const p={templateFolderPath:i,templateFolderPathFromAppRoot:s,creationFolderFromAppRoot:`${e}/${r}`,wordsInFilePath:[{word:"Tutoriels",replaceWordWith:r}],wordsInFile:[{word:"Tutoriels",replaceWordWith:r},{word:"TypeSomePlz",replaceWordWith:`${a.get_add_name_error_strname}`},{word:"TypeBabyName",replaceWordWith:`${a.get_add_name_prompt_strname}`},{word:"ZeMuthafuckinAppbarTitle",replaceWordWith:`${a.get_appbar_title_name}`},{word:"ZeMuthafuckinEmptyMsg",replaceWordWith:`${a.empty_db_msg_name}`},{word:"ZeMuthafuckinEmptyBtnMsg",replaceWordWith:`${a.empty_db_btn_msg_name}`}],wordsInHBSFileName:{word:"Tutoriels",replaceWordWith:"Items"}};return createTemplateFromFolder(p).concat(createPageInitAndCie({subfolder:e,pageAndSubpageData:a}))}function reduxInitAndCie(e,t,o){return[{type:"add",path:path.join(`${process.cwd()}/${e}/reduxStore.js`),templateFile:"plop-templates/hbs-files/reduxStore.js.hbs",skipIfExists:!0},{type:"append",path:path.join(`${process.cwd()}/${e}/reduxStore.js`),pattern:"/* PLOP_INJECT_IMPORT */",template:`import ${o}Reducer from './${o}/${o}Slice';`},{type:"append",path:path.join(`${process.cwd()}/${e}/reduxStore.js`),pattern:"/* PLOP_INJECT_REDUX_REDUCER */",template:`\t\t${o}: ${o}Reducer,`},{type:"append",path:path.join(`${process.cwd()}/AppPieces/Fetchers/FetchReduxStates.js`),pattern:"/* PLOP_INJECT_REDUX_INIT */",template:`\n      \n\tawait SqliteRedux${o}.Init${o}({\n\t\tdebugMode: true,\n\t});\n\n\n\t/*await SqliteRedux${o}.ResetState({\n\t\tdebugMode: true,\n\t});*/\n\n`},{type:"append",path:path.join(`${process.cwd()}/AppPieces/Fetchers/FetchReduxStates.js`),pattern:"/* PLOP_INJECT_IMPORT */",template:`import {\n  SqliteRedux${o}\n} from "${e}/${o}/${o}GetterSetter";`},{type:"add",path:path.join(`${process.cwd()}/${e}/DatabaseObjects.js`),templateFile:"plop-templates/hbs-files/DatabaseObjects.js.hbs",skipIfExists:!0},{type:"append",path:path.join(`${process.cwd()}/${e}/DatabaseObjects.js`),pattern:"/* PLOP_INJECT_IMPORT */",template:`import { SqliteRedux${o} } from './${o}/${o}GetterSetter';`},{type:"append",path:path.join(`${process.cwd()}/${e}/DatabaseObjects.js`),pattern:"/* PLOP_INJECT_SQLITE_REDUX_OBJ */",template:`\t\tSqliteRedux${o},`}]}function createPageItemsReduxState({subfolder:e,name:t,actualJsFile:o,appRootPathFromC:n}){const a=toPascalCase(t),r="plop-templates/hbs-files/TrucsReduxPageItems",s=path.join(getNPMFolderRoot(),r);return createTemplateFromFolder({templateFolderPath:s,templateFolderPathFromAppRoot:r,creationFolderFromAppRoot:`${e}/${a}`,wordsInFilePath:[{word:"TutorielsState",replaceWordWith:a}],wordsInFile:[{word:"TutorielsState",replaceWordWith:a}],wordsInHBSFileName:{word:"TutorielsState",replaceWordWith:"Items"}}).concat(reduxInitAndCie(e,o,a))}function reduxPageStateInit(e,t,o){return[{type:"add",path:path.join(`${process.cwd()}/${e}/reduxStore.js`),templateFile:"plop-templates/hbs-files/reduxStore.js.hbs",skipIfExists:!0},{type:"append",path:path.join(`${process.cwd()}/${e}/reduxStore.js`),pattern:"/* PLOP_INJECT_IMPORT */",template:`import ${o}Reducer from './${o}/${o}Slice';`},{type:"append",path:path.join(`${process.cwd()}/${e}/reduxStore.js`),pattern:"/* PLOP_INJECT_REDUX_REDUCER */",template:`\t\t${o}: ${o}Reducer,`},{type:"add",path:path.join(`${process.cwd()}/${e}/DatabaseObjects.js`),templateFile:"plop-templates/hbs-files/DatabaseObjects.js.hbs",skipIfExists:!0},{type:"append",path:path.join(`${process.cwd()}/${e}/DatabaseObjects.js`),pattern:"/* PLOP_INJECT_IMPORT */",template:`import { SqliteRedux${o} } from './${o}/${o}GetterSetter';`},{type:"append",path:path.join(`${process.cwd()}/${e}/DatabaseObjects.js`),pattern:"/* PLOP_INJECT_SQLITE_REDUX_OBJ */",template:`\t\tSqliteRedux${o},`},{type:"append",path:path.join(`${process.cwd()}/AppPieces/Fetchers/FetchReduxStates.js`),pattern:"/* PLOP_INJECT_REDUX_INIT */",template:`\n      \n\tawait SqliteRedux${o}.Init${o}({\n\t\tdebugMode: true,\n\t});\n\n\tawait SqliteRedux${o}.ResetState();\n\n`},{type:"append",path:path.join(`${process.cwd()}/AppPieces/Fetchers/FetchReduxStates.js`),pattern:"/* PLOP_INJECT_IMPORT */",template:`import {\n  SqliteRedux${o}\n} from "${e}/${o}/${o}GetterSetter";`}]}function createPageStateReduxState({subfolder:e,name:t,actualJsFile:o,appRootPathFromC:n}){const a=toPascalCase(t),r="plop-templates/hbs-files/TrucsReduxPageState",s=path.join(getNPMFolderRoot(),r);return createTemplateFromFolder({templateFolderPath:s,templateFolderPathFromAppRoot:r,creationFolderFromAppRoot:`${e}/${a}State`,wordsInFilePath:[{word:"TutorielsState",replaceWordWith:`${a}State`}],wordsInFile:[{word:"TutorielsState",replaceWordWith:`${a}State`},{word:"ZeMuthafuckinList",replaceWordWith:`${a}List`}],wordsInHBSFileName:{word:"TutorielsState",replaceWordWith:"Items"}}).concat(reduxPageStateInit(e,o,`${a}State`))}function addFrenchStringsForSubpage(e){const t=e.get_string_repo,o=e.get_appbar_title_name,n=e.get_appbar_title_src;return{type:"append",path:path.join(`${process.cwd()}/src/stringRepos/${t}/${t}.js`),pattern:"/* PLOP_INJECT_SRC_STRING */",template:`\n\t\t${o}: "${n}",\n`}}function createSubpageInitAndCie({subfolder:e,pageAndSubpageData:t,actualJsFile:o}){return[addFrenchStringsForSubpage(t),subpage_import(t,o),subpage_component(t,o)]}const subpage_import=(e,t)=>({type:"append",path:path.join(`${process.cwd()}/${t}`),pattern:"/* PLOP_INJECT_IMPORT */",template:"import { \n  {{pascalCase name}} \n} from './pieces/{{pascalCase name}}/{{pascalCase name}}.js';",when:e=>null!=t}),subpage_component=(e,t)=>({type:"append",path:path.join(`${process.cwd()}/${t}`),pattern:"{/* PLOP_INJECT_SUBPAGE */}",template:"\n\t\t\t<{{pascalCase name}} />",when:e=>null!=t});function createSubpage({subfolder:e,appRootPathFromC:t,actualJsFile:o,name:n,pageAndSubpageData:a}){const r=toPascalCase(n),s="plop-templates/hbs-files/TrucsSubpage",i=path.join(getNPMFolderRoot(),s),p=a.get_page_name,c=a.get_appbar_title_name;return createTemplateFromFolder({templateFolderPath:i,templateFolderPathFromAppRoot:s,creationFolderFromAppRoot:`${e}/${r}`,wordsInFilePath:[{word:"Tutoriels",replaceWordWith:r}],wordsInFile:[{word:"Tutoriels",replaceWordWith:r},{word:`SqliteRedux${r}`,replaceWordWith:`SqliteRedux${p}`},{word:`${r}State`,replaceWordWith:`${p}State`},{word:"ZeAppbarTitleName",replaceWordWith:`${c}`},{word:`GoTo${r}List`,replaceWordWith:`GoTo${p}List`},{word:`${r}GetterSetter`,replaceWordWith:`${p}GetterSetter`},{word:`${r}/`,replaceWordWith:`${p}/`}],wordsInHBSFileName:{word:"Tutoriels",replaceWordWith:"Items"}}).concat(createSubpageInitAndCie({subfolder:e,pageAndSubpageData:a,actualJsFile:o}))}function createQuestionnaire(e,t){return[{type:"add",path:path.join(`${process.cwd()}/${e}/{{pascalCase name}}/QuestionList.js`),templateFile:"plop-templates/hbs-files/QuestionList.js.hbs"},{type:"append",path:path.join(`${process.cwd()}/${t}`),pattern:"/* PLOP_INJECT_IMPORT */",template:`\n\nimport {{pascalCase name}} from '${e}/{{pascalCase name}}/QuestionList';\nimport i18next from 'i18next';\nimport { Constants } from "src/constants/Constants.js";\nimport { useNavigation, useRoute } from "@react-navigation/native";\n\n`,when:e=>null!=t},{type:"append",path:path.join(`${process.cwd()}/${t}`),pattern:"/* PLOP_INJECT_IMPORT */",when:e=>null!=t,template:"import {\n  GetUserInput\n} from \"src/components/GetUserInput/GetUserInput\";\nimport {PlayerGTAInstance} from 'src/constants/PlayerGTA/PlayerGTA.js';"},{type:"append",path:path.join(`${process.cwd()}/${t}`),when:e=>null!=t,pattern:"/* PLOP_INJECT_CODE */",template:'\t\n  /*\n\n  const route = useRoute();\n  const navigation = useNavigation();\n  const questions = {{pascalCase name}}({});\n\n  <GetUserInput\n    scrollDirection={"horizontal_one_by_one"}\n    showAppbar={true}\n    appbarTitle={i18next.t("Options")}\n    clickSound={PlayerGTAInstance.GetSound()}\n    appbarBackgroundColor={Constants.defaultBackgroundColor}\n    appbarContentColor={Constants.defaultContentColor}\n    appbarFont={Constants.defaultFontFamily}\n    questions={questions}\n    bodyBackgroundColor={Constants.defaultBackgroundColor}\n    bodyContentColor={Constants.defaultContentColor}\n    bodyFont={Constants.defaultFontFamily}\n    bottomBarBackgroundColor={Constants.defaultBackgroundColor}\n    bottomBarIconsColor={Constants.defaultContentColor}\n    onCancel={() => {\n      navigation.goBack();\n    }}\n    onSuccess={(answers) => {}}\n    onError={({ errMsg, errAnswerIndex, answers }) => {\n      navigation.goBack();\n    }}\n  ></GetUserInput>\n  \n\t*/'}]}function createService({subfolder:e,appRootPathFromC:t,actualJsFile:o,name:n}){const a=toPascalCase(n),r="plop-templates/hbs-files/TrucsService",s=path.join(getNPMFolderRoot(),r);return createTemplateFromFolder({templateFolderPath:s,templateFolderPathFromAppRoot:r,creationFolderFromAppRoot:`${e}/${a}`,wordsInFilePath:[{word:"Service",replaceWordWith:a}],wordsInFile:[{word:"Service",replaceWordWith:a}],wordsInHBSFileName:{word:"Service",replaceWordWith:"Items"}})}function initSingletonAndCie(e,t){return[{type:"append",path:path.join(`${process.cwd()}/${e}`),pattern:"/* PLOP_INJECT_IMPORT */",template:`import {{pascalCase name}}Instance from "${t}/{{pascalCase name}}";`,abortOnFail:!1,when:t=>null!=e}]}function createSingleton({appRootPathFromC:e,actualJsFile:t,subfolder:o,name:n}){const a=toPascalCase(n),r="plop-templates/hbs-files/TrucsSingleton",s=path.join(getNPMFolderRoot(),r);return createTemplateFromFolder({templateFolderPath:s,templateFolderPathFromAppRoot:r,creationFolderFromAppRoot:`${o}`,wordsInFilePath:[{word:"Trucs",replaceWordWith:a}],wordsInFile:[{word:"Trucs",replaceWordWith:a}],wordsInHBSFileName:{word:"Trucs",replaceWordWith:"Items"}}).concat(initSingletonAndCie(t,o))}function createStringRepo(e,t,o,n){return[{type:"add",path:path.join(`${process.cwd()}/${e}/{{pascalCase name}}/{{pascalCase name}}.${t}`),templateFile:`plop-templates/hbs-files/${o}.${t}.hbs`}]}function initAIServiceAndCie({subfolder:e,actualJsFile:t,promptData:o,plop:n,appRootPathFromC:a}){return[{type:"REQUETE_CHAT_GPT"},{type:"SUPPRESSION_DECHETS"},{type:"CREATION_FICHIER_FONCTION"},{type:"CREATION_HISTORIQUE"},{type:"OUVRE_FICHIERS_CREES"}]}function createAIService({subfolder:e,appRootPathFromC:t,actualJsFile:o,name:n,promptData:a,plop:r}){return initAIServiceAndCie({subfolder:e,actualJsFile:o,promptData:a,plop:r,appRootPathFromC:t})}function reduxPersistentInitAndCie(e,t,o){return[{type:"add",path:path.join(`${process.cwd()}/${e}/reduxStore.js`),templateFile:"plop-templates/hbs-files/reduxStore.js.hbs",skipIfExists:!0},{type:"append",path:path.join(`${process.cwd()}/${e}/reduxStore.js`),pattern:"/* PLOP_INJECT_IMPORT */",template:`import ${o}Reducer from './${o}/${o}Slice';`},{type:"append",path:path.join(`${process.cwd()}/${e}/reduxStore.js`),pattern:"/* PLOP_INJECT_REDUX_REDUCER */",template:`\t\t${o}: ${o}Reducer,`},{type:"append",path:path.join(`${process.cwd()}/AppPieces/Fetchers/FetchReduxStates.js`),pattern:"/* PLOP_INJECT_REDUX_INIT */",template:`\n// initialize the sqlite/redux mechanism      \n\tawait SqliteRedux${o}.Init${o}({\n\t\tdebugMode: true,\n\t});\n\n\t// create the state, if not already existing\n\tawait SqliteRedux${o}.ResetState({\n\t\tdebugMode: true,\n\t});\n\n`},{type:"append",path:path.join(`${process.cwd()}/AppPieces/Fetchers/FetchReduxStates.js`),pattern:"/* PLOP_INJECT_IMPORT */",template:`import {\n  SqliteRedux${o}\n} from "${e}/${o}/${o}GetterSetter";`},{type:"add",path:path.join(`${process.cwd()}/${e}/DatabaseObjects.js`),templateFile:"plop-templates/hbs-files/DatabaseObjects.js.hbs",skipIfExists:!0},{type:"append",path:path.join(`${process.cwd()}/${e}/DatabaseObjects.js`),pattern:"/* PLOP_INJECT_IMPORT */",template:`import { SqliteRedux${o} } from './${o}/${o}GetterSetter';`},{type:"append",path:path.join(`${process.cwd()}/${e}/DatabaseObjects.js`),pattern:"/* PLOP_INJECT_SQLITE_REDUX_OBJ */",template:`\t\tSqliteRedux${o},`}]}function createReduxStatePersistent({subfolder:e,name:t,actualJsFile:o,appRootPathFromC:n}){const a=toPascalCase(t),r="plop-templates/hbs-files/TrucsReduxPersistent",s=path.join(getNPMFolderRoot(),r);return createTemplateFromFolder({templateFolderPath:s,templateFolderPathFromAppRoot:r,creationFolderFromAppRoot:`${e}/${a}`,wordsInFilePath:[{word:"TutorielsState",replaceWordWith:a}],wordsInFile:[{word:"TutorielsState",replaceWordWith:a}],wordsInHBSFileName:{word:"TutorielsState",replaceWordWith:"Items"}}).concat(reduxPersistentInitAndCie(e,o,a))}function createThing(e,t,o,n,a,r,s){const i=getProperFolderName(o),p=getProperExtension();return o===userChoices.createReduxState?createReduxStatePersistent({subfolder:e,name:n,actualJsFile:t,appRootPathFromC:a}):o===userChoices.createHTDPTemplate?createHTDPTemplate({subfolder:e,name:n,actualJsFile:t,appRootPathFromC:a}):o===userChoices.createSingleton?createSingleton({subfolder:e,name:n,actualJsFile:t,appRootPathFromC:a}):o==userChoices.createSubpage?createSubpage({subfolder:e,name:n,actualJsFile:t,appRootPathFromC:a,pageAndSubpageData:r}):o==userChoices.createQuestionnaire?createQuestionnaire(e,t):o==userChoices.createPage?[...createPage({subfolder:e,name:n,actualJsFile:t,appRootPathFromC:a,pageAndSubpageData:r}),...createPageItemsReduxState({subfolder:"src/reduxState",name:n,actualJsFile:t,appRootPathFromC:a}),...createPageStateReduxState({subfolder:"src/reduxState",name:n,actualJsFile:t,appRootPathFromC:a})]:o==userChoices.createComponent?createComponent({subfolder:e,name:n,actualJsFile:t,appRootPathFromC:a}):o==userChoices.createService?createService({subfolder:e,name:n,actualJsFile:t,appRootPathFromC:a}):o==userChoices.createAIService?createAIService({subfolder:e,name:n,actualJsFile:t,appRootPathFromC:a,promptData:r,plop:s}):o==userChoices.createStringRepo?createStringRepo(e,p,i):(userChoices.actionTemporaire,[])}function _getActionsForThingToBeCreated(e,t,o){const n=e.name,a=e.what_we_wanna_do;let r=e.ask_for_subfolder;const s=e.ask_for_js_file;let i=s!=Constants.noChoice?s:null,p=[];return p.push(...createThing(r,i,a,n,t,e,o)),p}const getActionsForThingToBeCreated=(e,t,o)=>{try{return _getActionsForThingToBeCreated(e,t,o)}catch(e){return console.log(`An error occured trying to obtain the list of actions: ${JSON.stringify(e)}\n\nHeres the stack\n\n${e.stack}`),[]}};function initThingGenerator(e,t){e.setGenerator("generate",{description:instance.t("xzvpE1UJ"),prompts:getGeneratePrompts(t),actions:function(o){return getActionsForThingToBeCreated(o,t,e)}})}function initAddIntlString(e,t){e.setGenerator("add-string",{description:instance.t("xioxnjOo"),prompts:getAddStringPrompts(t),actions:function(e){return AddIntlString(e,t)}})}function getChoicesArray(e){let t=[];for(var o=0;o<Constants.maxChoices;o++){const n=e[`choice_${o}_name`];n?.length>0&&t.push([[e[`choice_${o}_name`],e[`choice_${o}_string_name`],e[`choice_${o}_string_src`],null,e[`choice_${o}_value`]]])}return t}function getChoicesStrings(e){const t=e.choice_0_name?.length>0;let o={fr:"",eng:""};return t&&getChoicesArray(e).forEach(((e,t)=>{const n=e[1],a=e[2];o.src+=`\t\t${n}: "${a}",\n`})),o}function addFrenchStrings(e,t,o){const n=e.description_string_name,a=e.description_string_src,r=e.error_string_name,s=e.error_string_src,i=e.repo_name,p={deletePreviousStuff:!0,indent:!0,pattern:"/* PLOP_INJECT_SRC_STRING */",stuffUnderPattern:`\n${n}: "${a}",\n${r}: "${s}",\n${getChoicesStrings(e).fr}`};InjectStuffUnderPatterns(`${process.cwd()}/src/stringRepos/${i}/${i}.js`,[p])}function addErrorStrings(e,t,o){const n=e.error_string_name,a=e.error_string_src,r=e.repo_name,s={deletePreviousStuff:!0,indent:!0,pattern:"/* PLOP_INJECT_SRC_STRING */",stuffUnderPattern:`\n${n}: "${a}",\n`};InjectStuffUnderPatterns(`${process.cwd()}/src/stringRepos/${r}/${r}.js`,[s])}function addQuestionToList(e,t,o){const n=e.questionnaire_folder_path,a=e.questionnaire_file_name,r=toPascalCase(e.question_name),s=getPathWithForwardSlashes(path.join(process.cwd(),n,a));InjectStuffUnderPatterns(s,[{deletePreviousStuff:!0,indent:!0,pattern:"/* PLOP_INJECT_IMPORT */",stuffUnderPattern:`import { ${r} } from "${t}/${r}";`},{deletePreviousStuff:!0,indent:!0,pattern:"/* PLOP_INJECT_CODE */",stuffUnderPattern:`${r}(),`}])}function initQuestionAndCie({questionFolderPath:e,promptData:t}){return t.question_type==userChoices$1.customQuestion?(addQuestionToList(t,e),addErrorStrings(t)):(addFrenchStrings(t),addQuestionToList(t,e)),[]}function AddQuestionActions(e,t){const o=t.question_name,n=t.get_custom_ui_base,a=toPascalCase(o),r=`plop-templates/hbs-files/${GetCustomTemplateName(n)}`,s=path.join(getNPMFolderRoot(),r),i=`${t.questionnaire_folder_path}/Questions/${a}`,p={templateFolderPath:s,templateFolderPathFromAppRoot:r,creationFolderFromAppRoot:i,wordsInFilePath:[{word:"DescribeProgramInputs",replaceWordWith:a},{word:"LetsDescribeProgram",replaceWordWith:a},{word:"DescribeProgram",replaceWordWith:a},{word:"GetSoundtrack",replaceWordWith:a},{word:"GenerateQRCode",replaceWordWith:a},{word:"QRScannerUI",replaceWordWith:a},{word:"Currency",replaceWordWith:a},{word:"AddAPIKey",replaceWordWith:a},{word:"GetDestinationLanguage",replaceWordWith:a},{word:"GetFullVideo",replaceWordWith:a}],wordsInFile:[{word:"DescribeProgramInputs",replaceWordWith:a},{word:"LetsDescribeProgram",replaceWordWith:a},{word:"DescribeProgram",replaceWordWith:a},{word:"GetSoundtrack",replaceWordWith:a},{word:"GenerateQRCode",replaceWordWith:a},{word:"QRScannerUI",replaceWordWith:a},{word:"Currency",replaceWordWith:a},{word:"AddAPIKey",replaceWordWith:a},{word:"GetDestinationLanguage",replaceWordWith:a},{word:"GetFullVideo",replaceWordWith:a},{word:'"question_type"',replaceWordWith:`"${getQuestionType(t.question_type)}"`},{word:'"description_string_name"',replaceWordWith:`"${t.description_string_name}"`},{word:'"error_string_name"',replaceWordWith:`"${t.error_string_name}"`}],wordsInHBSFileName:{word:"Currency",replaceWordWith:"Items"}};return createTemplateFromFolder(p).concat(initQuestionAndCie({questionFolderPath:i,promptData:t}))}function initAddQuestion(e,t){e.setGenerator("add-ui",{description:instance.t("xrrbyEdM"),prompts:getAllQuestionPrompts(t),actions:function(e){return AddQuestionActions(t,e)}})}function deleteCaca$4(e,t){e.setActionType("SUPPRESSION_DECHETS",((e,o,n)=>{DeleteOldFunctionShit$3(e,t)}))}function openFilesInVSCode$p(e,t){e.setActionType("OUVRE_FICHIERS_CREES",(async function(e){const o=OpenFilesInVSCodeAndPrintMsg$p(e,t);console.log(o)}))}function setChatGPTFunctionGetter$3(e){e.setActionType("REQUETE_CHAT_GPT",(async function(e){await makeCHATGPTFuncRequest$3(e)}))}function setCreateFunctionAction$3(e,t){e.setActionType("CREATION_FICHIER_FONCTION",(e=>{CreateNewFunctionShit(e,t)}))}function setCreateMaslowJSON$p(e,t){e.setActionType("CREATION_HISTORIQUE",(e=>{createFullMaslowJSONFile(t,e)}))}function setAIFunctionActions(e,t){setChatGPTFunctionGetter$3(e),deleteCaca$4(e,t),setCreateFunctionAction$3(e,t),setCreateMaslowJSON$p(e,t),openFilesInVSCode$p(e,t)}function defaultTemplateInitAndCie(){return[{type:"add",path:path.join(`${process.cwd()}/src/reduxState/reduxStore.js`),templateFile:"plop-templates/hbs-files/reduxStore.js.hbs",skipIfExists:!0},{type:"add",path:path.join(`${process.cwd()}/src/reduxState/DatabaseObjects.js`),templateFile:"plop-templates/hbs-files/DatabaseObjects.js.hbs",skipIfExists:!0}]}const createDefaultApp=({appRootPathFromC:e})=>{const t="plop-templates/hbs-files/AppPieces",o=path.join(getNPMFolderRoot(),t);return createTemplateFromFolder({templateFolderPath:o,templateFolderPathFromAppRoot:t,creationFolderFromAppRoot:"",wordsInFilePath:[{word:"App",replaceWordWith:"App"}],wordsInFile:[{word:"App",replaceWordWith:"App"}],wordsInHBSFileName:{word:"App",replaceWordWith:"App"}}).concat(defaultTemplateInitAndCie())};function deleteFolderIfExisting(e){fs__default.existsSync(e)&&fs__default.rmSync(e,{recursive:!0,force:!0})}function deleteFileIfExisting(e){fs__default.existsSync(e)&&fs__default.unlinkSync(e)}function supprimeMaillonsFaibles(e,t,o,n,a){console.log("**********"),deleteFileIfExisting(t),deleteFileIfExisting(o),deleteFolderIfExisting(n),deleteFolderIfExisting(a),deleteFolderIfExisting(e),console.log("**********")}function SupprimeCacaAndCreateDefaultApp(e,t){const o=e.delete_or_not,n=path.join(t,"AppPieces"),a=path.join(t,"App.js"),r=path.join(t,"App.tsx"),s=path.join(t,"src/pages"),i=path.join(t,"src/reduxState");return o===userChoices$2.yesDelete?(supprimeMaillonsFaibles(n,a,r,s,i),createDefaultApp({appRootPathFromC:t}).concat([])):(console.log(instance.t("xaGLmcz")),[])}function initAddDefaultTemplate(e,t){e.setGenerator("add-default-app-template",{description:instance.t("x3BT44S2"),prompts:getAddDefaultAppTemplatePrompts(),actions:function(e){return SupprimeCacaAndCreateDefaultApp(e,t)}})}function AddElseIfForPromptIfNeeded({command_name:e,command_name_camel:t,command_prompts:o}){return o?.length>0?{appendPromptsElseIf:{type:"append",path:path.join(`${process.cwd()}/src/AllGenerators/getPromptsGivenGeneratorName.js`),template:`  else if (generatorName == CommandNames.${e?.replace(/-/g,"_")}) {\n    return ${t}Prompts(appRootPath);\n  }`,pattern:"// PLOP_ADD_PPTS_GIVN_GEN_NAME"},appendPromptsImport:{type:"append",path:path.join(`${process.cwd()}/src/AllGenerators/getPromptsGivenGeneratorName.js`),template:`import { ${t}Prompts } from '../AllPrompts/${t}/${t}Prompts.js';`,pattern:"// PLOP_ADD_PPTS_IMPORT_GIVN_GEN_NAME"}}:{appendNoPromptsCMDName:{type:"append",path:path.join(`${process.cwd()}/src/AllGenerators/getPromptsGivenGeneratorName.js`),template:`\t\t\tCommandNames.${e?.replace(/-/g,"_")},`,pattern:"// PLOP_ADD_NO_PPTS_CMD_NAME"}}}function AddElseIfForGeneratorIfNeeded({command_name:e,command_name_camel:t,command_prompts:o}){if(o?.length>0)return{appendGeneratorElseIf:{type:"append",path:path.join(`${process.cwd()}/src/AllGenerators/InitAllGenerators/initAllGenerators.js`),template:`  else if (generatorName == CommandNames.${e?.replace(/-/g,"_")}) {\n    init${t}Generator(plop, appRootPath);\n\n    Set${t}AsyncActions(plop, appRootPath);\n  }`,pattern:"// PLOP_INJECT_GENERATOR_ELSE_IF"},appendGeneratorImport:{type:"append",path:path.join(`${process.cwd()}/src/AllGenerators/InitAllGenerators/initAllGenerators.js`),template:`\nimport { init${t}Generator } from "../${t}/init${t}Generator.js";\nimport { Set${t}AsyncActions } from "../Set${t}AsyncActions/Set${t}AsyncActions.js";\n`,pattern:"// PLOP_INJECT_GENERATOR_IMPORTS"}}}function AddElseIfForNoPromptCMDIfNeeded({command_name:e,command_name_camel:t,command_prompts:o}){if(!o||0==o?.length)return{appendNoPromptCMDElseIf:{type:"append",path:getPathWithForwardSlashes(path.join(process.cwd(),"/src/Main/main.js")),template:`  else if (generatorName == CommandNames.${e?.replace(/-/g,"_")}) {\n    await ${t}ImpromptuCommand();\n  }`,pattern:"// NO_PROMPT_ELSE_IF"},appendNoPromptCMDImport:{type:"append",path:getPathWithForwardSlashes(path.join(process.cwd(),"/src/Main/main.js")),template:`\nimport { ${t}ImpromptuCommand } from "../AllGenerators/${t}ImpromptuCommand/${t}ImpromptuCommand.js";\n`,pattern:"// NO_PROMPT_IMPROMPTU_IMPORT"}}}function AppendCommandName(e){InjectStuffUnderPatterns(path.join(`${process.cwd()}/src/AppConstants/CommandNames.js`),[{pattern:"// ADD_CMD_NAME",stuffUnderPattern:`\t${e?.replace(/-/g,"_")}: "${e}",`,deletePreviousIdenticalLine:!1,indent:!0},{pattern:"// ADD_AGAIN_CMD_NAME",stuffUnderPattern:`\t${e?.replace(/-/g,"_")}: "${e}",`,deletePreviousIdenticalLine:!1,indent:!0}])}function AppendCommandDescriptions(e){return{type:"append",path:path.join(`${process.cwd()}/src/AppConstants/CommandDescriptions.js`),pattern:"// ADD_CMD_DESC",template:`\t${e?.replace(/-/g,"_")}: ${instance.t("AllowsYou")},`}}function AppendCommandSuccessCallback(e){return{type:"append",path:path.join(`${process.cwd()}/src/AppConstants/CommandSuccessCallbacks.js`),pattern:"// ADD_CMD_SUCCESS_CALLBACKS",template:`\t"${e}": (answers) => {\n    return "";\n  },`}}function initAddCommandAndCie({creationFolderFromAppRoot:e,promptData:t}){return[]}function createAddCommandFolder1(e){const t=e.AddCommandName,o=toCamelCase(t),n="plop-templates/hbs-files/TemplatePrompts",a=path.join(getNPMFolderRoot(),n),r=`src/AllPrompts/${o}`;return createTemplateFromFolder({templateFolderPath:a,templateFolderPathFromAppRoot:n,creationFolderFromAppRoot:r,wordsInFilePath:[{word:"Template",replaceWordWith:`${o}`},{word:"template",replaceWordWith:`${o}`}],wordsInFile:[{word:"Template",replaceWordWith:`${o}`},{word:"template",replaceWordWith:`${o}`},{word:`create${o}FromFolder`,replaceWordWith:"createTemplateFromFolder"},{word:`Create${o}FromFolder`,replaceWordWith:"CreateTemplateFromFolder"},{word:`${o}FolderPathFromAppRoot`,replaceWordWith:"templateFolderPathFromAppRoot"},{word:`plop-${o}s`,replaceWordWith:"plop-templates"},{word:`${o}FolderName`,replaceWordWith:"templateFolderName"},{word:`${o}FolderPath`,replaceWordWith:"templateFolderPath"},{word:`${o}CreationParams`,replaceWordWith:"templateCreationParams"}],wordsInHBSFileName:{word:"template",replaceWordWith:`${o}`}}).concat(initAddCommandAndCie({creationFolderFromAppRoot:r,promptData:e}))}const AddQuotesAroundWord=e=>{let t=e.split(",");return t=t.map((e=>`"${e?.trim()}"`)),t.join(", ")};function initTemplateAndCie$5({command_prompt_name_camel:e,command_name_camel:t,creationFolderFromAppRoot:o,promptData:n}){const a=`src/AllPrompts/${t}/${t}Prompts.js`;return[{type:"append",path:path.join(`${process.cwd()}/${a}`),pattern:"// PLOP_IMPORT_PROMPT",template:`\nimport * as ${e}PromptText from "./prompts/${e}/${e}PromptText.js";\nimport * as ${e}PromptChoice from "./prompts/${e}/${e}PromptChoice.js";\n`},{type:"append",path:path.join(`${process.cwd()}/${a}`),pattern:"// PLOP_IMPORT_PROMPT_USE",template:`\n\t\t${e}PromptText.${e}PromptText(appRootPath),\n\t\t//${e}PromptChoice.${e}PromptChoices(appRootPath),`}]}function CreateIndividualPromptFolder(e,t,o){const n="plop-templates/hbs-files/TemplatePrompt",a=path.join(getNPMFolderRoot(),n),r=e.AddCommandName,s=toCamelCase(r),i=toCamelCase(t),p=`src/AllPrompts/${s}/prompts/${i}`;return createTemplateFromFolder({templateFolderPath:a,templateFolderPathFromAppRoot:n,creationFolderFromAppRoot:p,wordsInFilePath:[{word:"DeletePath",replaceWordWith:`${i}`},{word:"DeletePath",replaceWordWith:`${i}`}],wordsInFile:[{word:"DeletePath",replaceWordWith:`${i}`},{word:"DeletePath",replaceWordWith:`${i}`},{word:`create${i}FromFolder`,replaceWordWith:"createTemplateFromFolder"},{word:`Create${i}FromFolder`,replaceWordWith:"CreateTemplateFromFolder"},{word:"<prompt_name>",replaceWordWith:`${i}`},{word:`${i}FolderPathFromAppRoot`,replaceWordWith:"templateFolderPathFromAppRoot"},{word:`plop-${i}s`,replaceWordWith:"plop-templates"},{word:`${i}FolderName`,replaceWordWith:"templateFolderName"},{word:`${i}FolderPath`,replaceWordWith:"templateFolderPath"},{word:`${i}CreationParams`,replaceWordWith:"templateCreationParams"}],wordsInHBSFileName:{word:"DeletePath",replaceWordWith:`Item_${o}_`}}).concat(initTemplateAndCie$5({creationFolderFromAppRoot:p,promptData:e,command_prompt_name_camel:i,command_name_camel:s}))}function createAddCommandFolder2(e){const t=e.AddCommandPrompts;let o=[],n=[];return!(t?.length>0)||(o=JSON.parse(`[${AddQuotesAroundWord(t)}]`)),o.forEach(((t,o)=>{n=[...n,...CreateIndividualPromptFolder(e,t,o)]})),n}function initTemplateAndCie$4({creationFolderFromAppRoot:e,promptData:t}){return[]}function createAddCommandFolder3(e){const t="plop-templates/hbs-files/InitTemplateGenerator",o=path.join(getNPMFolderRoot(),t),n=e.AddCommandName,a=toCamelCase(n),r=`src/AllGenerators/${a}`,s={templateFolderPath:o,templateFolderPathFromAppRoot:t,creationFolderFromAppRoot:r,wordsInFilePath:[{word:"Template",replaceWordWith:`${a}`},{word:"template",replaceWordWith:`${a}`}],wordsInFile:[{word:"Template",replaceWordWith:`${a}`},{word:"template",replaceWordWith:`${a}`},{word:'"generatorName"',replaceWordWith:`CommandNames.${n?.replace(/-/g,"_")}`},{word:"generatorDescription",replaceWordWith:instance.t("xGtY0WIR")},{word:`create${a}FromFolder`,replaceWordWith:"createTemplateFromFolder"},{word:`Create${a}FromFolder`,replaceWordWith:"CreateTemplateFromFolder"},{word:`${a}FolderPathFromAppRoot`,replaceWordWith:"templateFolderPathFromAppRoot"},{word:`plop-${a}s`,replaceWordWith:"plop-templates"},{word:`${a}FolderName`,replaceWordWith:"templateFolderName"},{word:`${a}FolderPath`,replaceWordWith:"templateFolderPath"},{word:`${a}CreationParams`,replaceWordWith:"templateCreationParams"}],wordsInHBSFileName:{word:"template",replaceWordWith:"Item"}};return createTemplateFromFolder(s).concat(initTemplateAndCie$4({creationFolderFromAppRoot:r,promptData:e}))}function initTemplateAndCie$3({creationFolderFromAppRoot:e,promptData:t}){return[]}function createAddCommandFolder4(e){const t="plop-templates/hbs-files/SetAskQuestionAsyncActions",o=path.join(getNPMFolderRoot(),t),n=e.AddCommandName,a=toCamelCase(n),r=`src/AllGenerators/Set${a}AsyncActions`;return createTemplateFromFolder({templateFolderPath:o,templateFolderPathFromAppRoot:t,creationFolderFromAppRoot:r,wordsInFilePath:[{word:"AskQuestion",replaceWordWith:a},{word:"AskQuestion",replaceWordWith:a}],wordsInFile:[{word:"AskQuestion",replaceWordWith:a},{word:"AskQuestion",replaceWordWith:a},{word:`create${a}FromFolder`,replaceWordWith:"createTemplateFromFolder"},{word:`Create${a}FromFolder`,replaceWordWith:"CreateTemplateFromFolder"},{word:`${a}FolderPathFromAppRoot`,replaceWordWith:"templateFolderPathFromAppRoot"},{word:`plop-${a}s`,replaceWordWith:"plop-templates"},{word:`${a}FolderName`,replaceWordWith:"templateFolderName"},{word:`${a}FolderPath`,replaceWordWith:"templateFolderPath"},{word:`${a}CreationParams`,replaceWordWith:"templateCreationParams"}],wordsInHBSFileName:{word:"AskQuestion",replaceWordWith:"Item"}}).concat(initTemplateAndCie$3({creationFolderFromAppRoot:r,promptData:e}))}function initTemplateAndCie$2({creationFolderFromAppRoot:e,promptData:t}){return[]}function createAddCommandFolder5(e){const t="plop-templates/hbs-files/TemplateActions",o=path.join(getNPMFolderRoot(),t),n=e.AddCommandName,a=toCamelCase(n),r=`src/AllActions/${a}`;return createTemplateFromFolder({templateFolderPath:o,templateFolderPathFromAppRoot:t,creationFolderFromAppRoot:r,wordsInFilePath:[{word:"Template",replaceWordWith:`${a}`},{word:"template",replaceWordWith:`${a}`}],wordsInFile:[{word:"Template",replaceWordWith:`${a}`},{word:"template",replaceWordWith:`${a}`},{word:`create${a}FromFolder`,replaceWordWith:"createTemplateFromFolder"},{word:`Create${a}FromFolder`,replaceWordWith:"CreateTemplateFromFolder"},{word:`${a}FolderPathFromAppRoot`,replaceWordWith:"templateFolderPathFromAppRoot"},{word:`plop-${a}s`,replaceWordWith:"plop-templates"},{word:`${a}FolderName`,replaceWordWith:"templateFolderName"},{word:`${a}FolderPath`,replaceWordWith:"templateFolderPath"},{word:`${a}CreationParams`,replaceWordWith:"templateCreationParams"}],wordsInHBSFileName:{word:"template",replaceWordWith:"Item"}}).concat(initTemplateAndCie$2({creationFolderFromAppRoot:r,promptData:e}))}function initTemplateAndCie$1({command_action_name_camel:e,command_name_camel:t,creationFolderFromAppRoot:o,promptData:n}){const a=path.join(`src/AllActions/${t}/${t}Actions.js`),r=path.join(`src/AllGenerators/Set${t}AsyncActions/Set${t}AsyncActions.js`);return[{type:"append",path:path.join(`${process.cwd()}/${a}`),pattern:"// PLOP_IMPORT_ACTION",template:`import * as ${e}Action from "./pieces/PLOPActions/${e}/${e}Actions.js";`},{type:"append",path:path.join(`${process.cwd()}/${a}`),pattern:"// PLOP_IMPORT_ACTION_USE",template:`\t\t//${e}Action.${e}AppendAction(promptData, appRootPath),`},{type:"append",path:path.join(`${process.cwd()}/${r}`),pattern:"// PLOP_ASYNC_ACTION_IMPORT",template:`import { ${e} } from "./${e}/${e}.js";`},{type:"append",path:path.join(`${process.cwd()}/${r}`),pattern:"// PLOP_ASYNC_ACTION_USE",template:`\t${e}(plop, appRootPath);`}]}function CreateIndividualActionFolder(e,t,o){const n="plop-templates/hbs-files/TemplateAction",a=path.join(getNPMFolderRoot(),n),r=e.AddCommandName,s=toCamelCase(r),i=toCamelCase(t),p=`src/AllActions/${s}/pieces/PLOPActions/${i}`;return createTemplateFromFolder({templateFolderPath:a,templateFolderPathFromAppRoot:n,creationFolderFromAppRoot:p,wordsInFilePath:[{word:"Template",replaceWordWith:`${i}`},{word:"template",replaceWordWith:`${i}`}],wordsInFile:[{word:"Template",replaceWordWith:`${i}`},{word:"template",replaceWordWith:`${i}`},{word:`create${i}FromFolder`,replaceWordWith:"createTemplateFromFolder"},{word:`Create${i}FromFolder`,replaceWordWith:"CreateTemplateFromFolder"},{word:`${i}FolderPathFromAppRoot`,replaceWordWith:"templateFolderPathFromAppRoot"},{word:`plop-${i}s`,replaceWordWith:"plop-templates"},{word:`${i}FolderName`,replaceWordWith:"templateFolderName"},{word:`${i}FolderPath`,replaceWordWith:"templateFolderPath"},{word:`${i}CreationParams`,replaceWordWith:"templateCreationParams"}],wordsInHBSFileName:{word:"template",replaceWordWith:`Item_${o}_`}}).concat(initTemplateAndCie$1({creationFolderFromAppRoot:p,promptData:e,command_action_name_camel:i,command_name_camel:s}))}function CreateIndividualActionFolderAsync(e,t,o){const n="plop-templates/hbs-files/TemplateActionAsync",a=path.join(getNPMFolderRoot(),n),r=e.AddCommandName,s=toCamelCase(r),i=toCamelCase(t);return createTemplateFromFolder({templateFolderPath:a,templateFolderPathFromAppRoot:n,creationFolderFromAppRoot:`src/AllGenerators/Set${s}AsyncActions/${i}`,wordsInFilePath:[{word:"TemplateActionAsync",replaceWordWith:`${i}`},{word:"templateActionAsync",replaceWordWith:`${i}`}],wordsInFile:[{word:"TemplateActionAsync",replaceWordWith:`${i}`},{word:"templateActionAsync",replaceWordWith:`${i}`}],wordsInHBSFileName:{word:"TemplateActionAsync",replaceWordWith:`Item_${o}_`}})}function createAddCommandFolder6(e){const t=e.AddCommandActions;let o=[],n=[];return!(t?.length>0)||(o=JSON.parse(`[${AddQuotesAroundWord(t)}]`)),o.reverse().forEach(((t,o)=>{n=[...n,...CreateIndividualActionFolder(e,t,o),...CreateIndividualActionFolderAsync(e,t,o)]})),n}function initTemplateAndCie({creationFolderFromAppRoot:e,promptData:t}){return[]}function createAddCommandFolder7(e){const t=e.AddCommandPrompts;let o=[];if(!(t?.length>0)||(o=JSON.parse(`[${AddQuotesAroundWord(t)}]`)),o?.length>0)return[];const n="plop-templates/hbs-files/TemplateImpromptuCommand",a=path.join(getNPMFolderRoot(),n),r=e.AddCommandName,s=toCamelCase(r),i=`src/AllGenerators/${s}ImpromptuCommand`;return createTemplateFromFolder({templateFolderPath:a,templateFolderPathFromAppRoot:n,creationFolderFromAppRoot:i,wordsInFilePath:[{word:"Template",replaceWordWith:`${s}`},{word:"template",replaceWordWith:`${s}`}],wordsInFile:[{word:"Template",replaceWordWith:`${s}`},{word:"template",replaceWordWith:`${s}`},{word:`create${s}FromFolder`,replaceWordWith:"createTemplateFromFolder"},{word:`Create${s}FromFolder`,replaceWordWith:"CreateTemplateFromFolder"},{word:`${s}FolderPathFromAppRoot`,replaceWordWith:"templateFolderPathFromAppRoot"},{word:`plop-${s}s`,replaceWordWith:"plop-templates"},{word:`${s}FolderName`,replaceWordWith:"templateFolderName"},{word:`${s}FolderPath`,replaceWordWith:"templateFolderPath"},{word:`${s}CreationParams`,replaceWordWith:"templateCreationParams"}],wordsInHBSFileName:{word:"template",replaceWordWith:"Item"}}).concat(initTemplateAndCie({creationFolderFromAppRoot:i,promptData:e}))}function AddCommandActions(e,t,o){const n=createAddCommandFolder1(e),a=createAddCommandFolder2(e),r=createAddCommandFolder3(e),s=createAddCommandFolder4(e),i=createAddCommandFolder5(e),p=createAddCommandFolder6(e),c=createAddCommandFolder7(e),l=e.AddCommandName,d=toCamelCase(l),m=e.AddCommandPrompts;let u=AddElseIfForPromptIfNeeded({command_name:l,command_name_camel:d,command_prompts:m}),h=AddElseIfForGeneratorIfNeeded({command_name:l,command_name_camel:d,command_prompts:m}),A=AddElseIfForNoPromptCMDIfNeeded({command_name:l,command_name_camel:d,command_prompts:m});return[AppendCommandName(l),AppendCommandDescriptions(l),AppendCommandSuccessCallback(l),...n,...a,u?.appendPromptsImport,u?.appendPromptsElseIf,u?.appendNoPromptsCMDName,h?.appendGeneratorImport,h?.appendGeneratorElseIf,...r,...s,...i,...p,...c,A?.appendNoPromptCMDElseIf,A?.appendNoPromptCMDImport]?.filter((e=>e))}function initAddCommandGenerator(e,t){e.setGenerator(CommandNames.add_command,{description:instance.t("x0uFlO3L"),prompts:AddCommandPrompts(),actions:function(e){return AddCommandActions(e)}})}function DeleteOldFunctionShit$2(e,t){const o=`${e.ask_for_subfolder}/${e.name}`,n=path.join(t,o);DeleteFolderContents({folderPath:n,whiteList:["pieces","Maslow.json","prompts"]})}function deleteCaca$3(e,t){e.setActionType("SUPPRESSION_DECHETS",((e,o,n)=>{DeleteOldFunctionShit$2(e,t)}))}function OpenFilesInVSCodeAndPrintMsg$o(e,t){const o=e.ask_for_js_file;let n=o!=Constants.noChoice?o:null;const a=e.gold_caviar.inspiringMessage[0],r=e.gold_caviar.codeInstall[0],s=getPathWithForwardSlashes(path.join(e.ask_for_subfolder,e.name)),i=`${Constants.regeneration_command} ${s}`,p=`\n\n${instance.t("xGZ1dJ7M")}\n\n${r}\n\n${instance.t("xjBxze0p")}\n\n${i}\n\n${instance.t("xBOoVhne")} ðŸŒž\n\n${a} ðŸŒ¼\n\n`;n&&(n=path.join(t,n));const c=`${e.ask_for_subfolder}/${e.name}/${e.name}.${e.gold_caviar.codeExtension[0]}`;return path.join(t,c),path.join(t,`${e.ask_for_subfolder}/${e.name}/prompts/get_ai_service_language.txt`),path.join(t,`${e.ask_for_subfolder}/${e.name}/prompts/get_ai_service_args.txt`),path.join(t,`${e.ask_for_subfolder}/${e.name}/prompts/get_ai_service_description.txt`),path.join(t,`${e.ask_for_subfolder}/${e.name}/prompts/get_ai_service_return_value.txt`),p}function openFilesInVSCode$o(e,t){e.setActionType("OUVRE_FICHIERS_CREES",(e=>{const o=OpenFilesInVSCodeAndPrintMsg$o(e,t);console.log(o)}))}async function makeCHATGPTFuncRequest$2(e,t=!0){let o;const n=await GetChatGPTFunction({model_chosen:getDataFromNPMMaslowJSON("ChooseAIModel")??"gpt-3.5-turbo",functionName:e.name,functionLanguage:e.get_ai_service_language,functionPurpose:e.get_ai_service_description,functionArgs:e.get_ai_service_args,functionReturnValue:e.get_ai_service_return_value,apiKey:MASLOW_API_KEY,onSuccess:e=>e,onError:e=>{o=e,ShowErrorMsg(e)},printDebug:!1});if(!n)throw new Error(o?.response?.data??o?.message);e.gold_caviar=n.answer}function setChatGPTFunctionGetter$2(e){e.setActionType("REQUETE_CHAT_GPT",(async function(e){await makeCHATGPTFuncRequest$2(e)}))}function setCodeUsageIfNeeded$2(e,t){e.setActionType("AJOUTE_CODE_UTILISANT_FONCTION",(e=>{AddCodeUseExample(e,t)}))}function setCreateFunctionAction$2(e,t){e.setActionType("CREATION_FICHIER_FONCTION",(e=>{CreateNewFunctionShit(e,t)}))}function setCreateMaslowJSON$o(e,t){e.setActionType("CREATION_HISTORIQUE",(e=>{createFullMaslowJSONFile(t,e)}))}function AddCommandAsynchronousActions(e,t){setChatGPTFunctionGetter$2(e),deleteCaca$3(e,t),setCreateFunctionAction$2(e,t),setCreateMaslowJSON$o(e,t),setCodeUsageIfNeeded$2(e,t),openFilesInVSCode$o(e,t)}const GenerateVoiceAsyncAction=(e,t)=>({type:"GenerateVoice"});function GenerateAudioFromTextActions(e,t,o){return[GenerateVoiceAsyncAction()]?.filter((e=>e))}function initGenerateAudioFromTextGenerator(e,t){e.setGenerator(CommandNames.generate_audio_from_text,{description:"xGtY0WIR",prompts:GenerateAudioFromTextPrompts(),actions:function(e){return GenerateAudioFromTextActions()}})}function OpenFilesInVSCodeAndPrintMsg$n(e,t){return path.join(t,`${e.GptQuestionName}`,"Maslow.json"),path.join(t,`${e.GptQuestionName}`,"question.txt"),path.join(t,`${e.GptQuestionName}`,`${e.AnswerFileName?.trim()}`),"ðŸŒž ðŸŒ¼"}function openFilesInVSCode$n(e,t){e.setActionType("OUVRE_FICHIERS_CREES",(e=>{const o=OpenFilesInVSCodeAndPrintMsg$n(e,t);console.log(o)}))}async function makeCHATGPTRequest$l(e,t,o=!0){const n=e.GenerateAudioFromText;let a;const r=TerminalSpinner("Please wait... The work is going on."),s=await GetChatGPTOutput({model_chosen:getDataFromNPMMaslowJSON("ChooseAIModel")??"text-davinci-003",prompt:n,onSuccess:e=>{},onProgress:e=>{r.text=e.progress},onError:e=>{a=e},apiKey:MASLOW_API_KEY});if(r.stop(),!s)throw new Error(a?.response?.data??a?.message);e.chat_gpt_output=s.answer.result}function setChatGPTGetter$l(e,t){e.setActionType("REQUETE_CHAT_GPT_QUESTION",(async function(e){await makeCHATGPTRequest$l(e)}))}function createMaslowJSONAndStuff$l(e,t){const o=path.join(e,`${t.GptQuestionName}/Maslow.json`),n=path.join(e,`${t.GptQuestionName}/question.txt`),a=path.join(e,`${t.GptQuestionName}/${t.AnswerFileName?.trim()}`);CreateFileFromScratch(a,t.chat_gpt_output),CreateFileFromScratch(n,t.GenerateAudioFromText),CreateFileFromScratch(o,JSON.stringify({question:t.GenerateAudioFromText,questionPath:n,answer:t.chat_gpt_output,answerPath:a},null,2))}function setCreateMaslowJSON$n(e,t){e.setActionType("CREATION_HISTORIQUE",(e=>{createMaslowJSONAndStuff$l(t,e)}))}async function GenerateVoiceRequest(e,t,o=!0){const n=getDataFromNPMMaslowJSON("LatestAPIKey");let a;const r=TerminalSpinner(app_strings.t("xTnJ8Oaf")),s=await MaslowGPTSDK.GenerateAudioFromTxt({voice:e.GetAudioVoiceName,text:e.DescribeAudio,onSuccess:e=>{console.log(app_strings.t("AudioSuccess")),console.log("\n"),console.log(e.answer),console.log("\n")},onProgress:e=>{},onError:e=>{a=e},apiKey:n});if(r.stop(),s){const t=s.answer,o=path.resolve(e.OutputAudioPath);return await fs__default.promises.writeFile(o,Buffer.from(t)),void console.log(app_strings.t("success")+"\n\n"+o)}throw new Error(a?.response?.data??a?.message)}function GenerateVoice(e,t){e.setActionType("GenerateVoice",(async function(e){await GenerateVoiceRequest(e)}))}function SetGenerateAudioFromTextAsyncActions(e,t){GenerateVoice(e),setChatGPTGetter$l(e),setCreateMaslowJSON$n(e,t),openFilesInVSCode$n(e,t)}const GenerateArtAsyncAction=(e,t)=>({type:"GenerateArt"});function GenerateArtActions(e,t,o){return[GenerateArtAsyncAction()]?.filter((e=>e))}function initGenerateArtGenerator(e,t){e.setGenerator(CommandNames.generate_art,{description:"xGtY0WIR",prompts:GenerateArtPrompts(),actions:function(e){return GenerateArtActions()}})}function OpenFilesInVSCodeAndPrintMsg$m(e,t){return path.join(t,`${e.GptQuestionName}`,"Maslow.json"),path.join(t,`${e.GptQuestionName}`,"question.txt"),path.join(t,`${e.GptQuestionName}`,`${e.AnswerFileName?.trim()}`),"ðŸŒž ðŸŒ¼"}function openFilesInVSCode$m(e,t){e.setActionType("OUVRE_FICHIERS_CREES",(e=>{const o=OpenFilesInVSCodeAndPrintMsg$m(e,t);console.log(o)}))}async function makeCHATGPTRequest$k(e,t,o=!0){const n=e.GenerateArt;let a;const r=TerminalSpinner("Please wait... The work is going on."),s=await GetChatGPTOutput({model_chosen:getDataFromNPMMaslowJSON("ChooseAIModel")??"text-davinci-003",prompt:n,onSuccess:e=>{},onProgress:e=>{r.text=e.progress},onError:e=>{a=e},apiKey:MASLOW_API_KEY});if(r.stop(),!s)throw new Error(a?.response?.data??a?.message);e.chat_gpt_output=s.answer.result}function setChatGPTGetter$k(e,t){e.setActionType("REQUETE_CHAT_GPT_QUESTION",(async function(e){await makeCHATGPTRequest$k(e)}))}function createMaslowJSONAndStuff$k(e,t){const o=path.join(e,`${t.GptQuestionName}/Maslow.json`),n=path.join(e,`${t.GptQuestionName}/question.txt`),a=path.join(e,`${t.GptQuestionName}/${t.AnswerFileName?.trim()}`);CreateFileFromScratch(a,t.chat_gpt_output),CreateFileFromScratch(n,t.GenerateArt),CreateFileFromScratch(o,JSON.stringify({question:t.GenerateArt,questionPath:n,answer:t.chat_gpt_output,answerPath:a},null,2))}function setCreateMaslowJSON$m(e,t){e.setActionType("CREATION_HISTORIQUE",(e=>{createMaslowJSONAndStuff$k(t,e)}))}async function GenerateArtRequest(e,t,o=!0){const n=getDataFromNPMMaslowJSON("LatestAPIKey"),a=e.DescribeArt;let r;const s=TerminalSpinner(app_strings.t("xTnJ8Oaf")),i=await MaslowGPTSDK.GetChatGPTArt({model_chosen:"dall-e-2",img_height:256,img_width:256,prompt:a,onSuccess:e=>{console.log(app_strings.t("ArtSuccess")),console.log("\n"),console.log(e.answer),console.log("\n")},onProgress:e=>{s.text=e.progress},onError:e=>{r=e},apiKey:n});if(s.stop(),!i)throw new Error(r?.response?.data??r?.message)}function GenerateArt(e,t){e.setActionType("GenerateArt",(async function(e){await GenerateArtRequest(e)}))}function SetGenerateArtAsyncActions(e,t){GenerateArt(e),setChatGPTGetter$k(e),setCreateMaslowJSON$m(e,t),openFilesInVSCode$m(e,t)}const GenerateRagCodeAsyncAction=(e,t)=>({type:"GenerateRagCode"}),CreateCodeFilesAsyncAction=(e,t)=>({type:"CreateCodeFiles"});function GenerateCodeFromFolderActions(e,t,o){return[GenerateRagCodeAsyncAction(),CreateCodeFilesAsyncAction()]?.filter((e=>e))}function initGenerateCodeFromFolderGenerator(e,t){e.setGenerator(CommandNames.generate_code_from_folder,{description:"xGtY0WIR",prompts:GenerateCodeFromFolderPrompts(t),actions:function(e){return GenerateCodeFromFolderActions()}})}function OpenFilesInVSCodeAndPrintMsg$l(e,t){return path.join(t,`${e.GptQuestionName}`,"Maslow.json"),path.join(t,`${e.GptQuestionName}`,"question.txt"),path.join(t,`${e.GptQuestionName}`,`${e.AnswerFileName?.trim()}`),"ðŸŒž ðŸŒ¼"}function openFilesInVSCode$l(e,t){e.setActionType("OUVRE_FICHIERS_CREES",(e=>{const o=OpenFilesInVSCodeAndPrintMsg$l(e,t);console.log(o)}))}async function makeCHATGPTRequest$j(e,t,o=!0){const n=e.GenerateCodeFromFolder;let a;const r=TerminalSpinner("Please wait... The work is going on."),s=await GetChatGPTOutput({model_chosen:getDataFromNPMMaslowJSON("ChooseAIModel")??"text-davinci-003",prompt:n,onSuccess:e=>{},onProgress:e=>{r.text=e.progress},onError:e=>{a=e},apiKey:MASLOW_API_KEY});if(r.stop(),!s)throw new Error(a?.response?.data??a?.message);e.chat_gpt_output=s.answer.result}function setChatGPTGetter$j(e,t){e.setActionType("REQUETE_CHAT_GPT_QUESTION",(async function(e){await makeCHATGPTRequest$j(e)}))}function createMaslowJSONAndStuff$j(e,t){const o=path.join(e,`${t.GptQuestionName}/Maslow.json`),n=path.join(e,`${t.GptQuestionName}/question.txt`),a=path.join(e,`${t.GptQuestionName}/${t.AnswerFileName?.trim()}`);CreateFileFromScratch(a,t.chat_gpt_output),CreateFileFromScratch(n,t.GenerateCodeFromFolder),CreateFileFromScratch(o,JSON.stringify({question:t.GenerateCodeFromFolder,questionPath:n,answer:t.chat_gpt_output,answerPath:a},null,2))}function setCreateMaslowJSON$l(e,t){e.setActionType("CREATION_HISTORIQUE",(e=>{createMaslowJSONAndStuff$j(t,e)}))}async function GenerateRagCodeRequest(e,t,o=!0){const n=e.QuestionText;let a;const r=TerminalSpinner(instance.t("xZcjmAM")),s=e.GiveCodeFolderName,i=await MaslowGPTSDK.GenerateRAGCode({gh_repo_url:s,model_chosen:getDataFromNPMMaslowJSON("ChooseAIModel")??"gpt-3.5-turbo",prompt:n+". If there's code in your answer, Give me everything inside one block of code only",onSuccess:e=>{},onProgress:e=>{},onError:e=>{a=e,ShowErrorMsg(e)},apiKey:MASLOW_API_KEY});if(r.stop(),!i)throw new Error(a?.response?.data??a?.message);e.chat_gpt_output=i.answer}function GenerateRagCode(e,t){e.setActionType("GenerateRagCode",(async function(e){await GenerateRagCodeRequest(e)}))}async function CreateCodeFilesRequest(e,t,o=!0){const n=path.join(t,`${e.SubfolderPath}/Maslow.json`),a="question.txt";path.join(t,`${e.SubfolderPath}/${a}`);const r=e.OutputFileWithExtension?.trim(),s=path.join(t,`${e.SubfolderPath}/${r}`),i=path.join(t,`${e.SubfolderPath}/answer.txt`),p=path.join(t,`${e.SubfolderPath}/code_fix.txt`),c=Date.now(),l=path.join(t,`${e.SubfolderPath}/code_history/${c}_${r}.txt`);CreateFileFromScratch(l,e.chat_gpt_output.codePart),CreateFileFromScratch(s,e.chat_gpt_output.codePart),CreateFileFromScratch(i,e.chat_gpt_output.answer),CreateFileFromScratch(p,`Add the following fixes to this code:\n\n${e.chat_gpt_output.codePart??instance.t("x6AnHxfH")}\n\nFixes_should_be_here\n  `),CreateFileFromScratch(n,JSON.stringify({question:e.QuestionText,questionPath:a,answer:e.chat_gpt_output,codeFilePath:r},null,2))}function CreateCodeFiles(e,t){e.setActionType("CreateCodeFiles",(async function(e){await CreateCodeFilesRequest(e,t)}))}function SetGenerateCodeFromFolderAsyncActions(e,t){GenerateRagCode(e),CreateCodeFiles(e,t),setChatGPTGetter$j(e),setCreateMaslowJSON$l(e,t),openFilesInVSCode$l(e,t)}const LoadCodeFolderActionAsyncAction=(e,t)=>({type:"LoadCodeFolderAction"});function LoadCodeFolderActions(e,t,o){return[LoadCodeFolderActionAsyncAction()]?.filter((e=>e))}function initLoadCodeFolderGenerator(e,t){e.setGenerator(CommandNames.load_code_folder,{description:"xGtY0WIR",prompts:LoadCodeFolderPrompts(),actions:function(e){return LoadCodeFolderActions()}})}function OpenFilesInVSCodeAndPrintMsg$k(e,t){return path.join(t,`${e.GptQuestionName}`,"Maslow.json"),path.join(t,`${e.GptQuestionName}`,"question.txt"),path.join(t,`${e.GptQuestionName}`,`${e.AnswerFileName?.trim()}`),"ðŸŒž ðŸŒ¼"}function openFilesInVSCode$k(e,t){e.setActionType("OUVRE_FICHIERS_CREES",(e=>{const o=OpenFilesInVSCodeAndPrintMsg$k(e,t);console.log(o)}))}async function makeCHATGPTRequest$i(e,t,o=!0){const n=e.LoadCodeFolder;let a;const r=TerminalSpinner("Please wait... The work is going on."),s=await GetChatGPTOutput({model_chosen:getDataFromNPMMaslowJSON("ChooseAIModel")??"text-davinci-003",prompt:n,onSuccess:e=>{},onProgress:e=>{r.text=e.progress},onError:e=>{a=e},apiKey:MASLOW_API_KEY});if(r.stop(),!s)throw new Error(a?.response?.data??a?.message);e.chat_gpt_output=s.answer.result}function setChatGPTGetter$i(e,t){e.setActionType("REQUETE_CHAT_GPT_QUESTION",(async function(e){await makeCHATGPTRequest$i(e)}))}function createMaslowJSONAndStuff$i(e,t){const o=path.join(e,`${t.GptQuestionName}/Maslow.json`),n=path.join(e,`${t.GptQuestionName}/question.txt`),a=path.join(e,`${t.GptQuestionName}/${t.AnswerFileName?.trim()}`);CreateFileFromScratch(a,t.chat_gpt_output),CreateFileFromScratch(n,t.LoadCodeFolder),CreateFileFromScratch(o,JSON.stringify({question:t.LoadCodeFolder,questionPath:n,answer:t.chat_gpt_output,answerPath:a},null,2))}function setCreateMaslowJSON$k(e,t){e.setActionType("CREATION_HISTORIQUE",(e=>{createMaslowJSONAndStuff$i(t,e)}))}async function LoadCodeFolderActionRequest(e,t,o=!0){const n=getDataFromNPMMaslowJSON("LatestAPIKey"),a=e.GetCodeFolderPath;let r;const s=TerminalSpinner(instance.t("xZcjmAM")),i=await MaslowGPTSDK.LoadCodeFolder({gh_repo_url:a,onSuccess:e=>{},onProgress:e=>{s.text=e.progress},onError:e=>{r=e},apiKey:n});if(s.stop(),!i)throw new Error(r?.response?.data??r?.message)}function LoadCodeFolderAction(e,t){e.setActionType("LoadCodeFolderAction",(async function(e){await LoadCodeFolderActionRequest(e)}))}function SetLoadCodeFolderAsyncActions(e,t){LoadCodeFolderAction(e),setChatGPTGetter$i(e),setCreateMaslowJSON$k(e,t),openFilesInVSCode$k(e,t)}const CloneTemplateAsyncAction$3=(e,t)=>({type:"CloneTemplate"});function AddCommandFromGithubActions(e,t,o){return[CloneTemplateAsyncAction$3()]?.filter((e=>e))}function initAddCommandFromGithubGenerator(e,t){e.setGenerator(CommandNames.add_command_from_github,{description:instance.t("xA0dU3Ov"),prompts:AddCommandFromGithubPrompts(),actions:function(e){return AddCommandFromGithubActions()}})}function OpenFilesInVSCodeAndPrintMsg$j(e,t){return path.join(t,`${e.GptQuestionName}`,"Maslow.json"),path.join(t,`${e.GptQuestionName}`,"question.txt"),path.join(t,`${e.GptQuestionName}`,`${e.AnswerFileName?.trim()}`),"ðŸŒž ðŸŒ¼"}function openFilesInVSCode$j(e,t){e.setActionType("OUVRE_FICHIERS_CREES",(e=>{const o=OpenFilesInVSCodeAndPrintMsg$j(e,t);console.log(o)}))}async function makeCHATGPTRequest$h(e,t,o=!0){}function setChatGPTGetter$h(e,t){e.setActionType("REQUETE_CHAT_GPT_QUESTION",(async function(e){await makeCHATGPTRequest$h()}))}function createMaslowJSONAndStuff$h(e,t){const o=path.join(e,`${t.GptQuestionName}/Maslow.json`),n=path.join(e,`${t.GptQuestionName}/question.txt`),a=path.join(e,`${t.GptQuestionName}/${t.AnswerFileName?.trim()}`);CreateFileFromScratch(a,t.chat_gpt_output),CreateFileFromScratch(n,t.AddCommandFromGithub),CreateFileFromScratch(o,JSON.stringify({question:t.AddCommandFromGithub,questionPath:n,answer:t.chat_gpt_output,answerPath:a},null,2))}function setCreateMaslowJSON$j(e,t){e.setActionType("CREATION_HISTORIQUE",(e=>{createMaslowJSONAndStuff$h(t,e)}))}var util={};function git(e){return e.git||"git"}util.buildCloneCommand=function(e,t,o){let n=["clone"];const a=o.args||[];if(o.shallow){if(a.indexOf("--depth")>=0)throw new Error("'--depth' cannot be specified when shallow is set to 'true'");n.push("--depth","1")}return n=n.concat(a),n.push("--",e,t),[git(o),n]},util.buildCheckoutCommand=function(e,t){return[git(t),["checkout",e]]};const{buildCloneCommand:buildCloneCommand,buildCheckoutCommand:buildCheckoutCommand}=util,spawn=require$$1.spawn;var impl$1=function(e,t,o,n,a){const[r,s]=buildCloneCommand(e,t,o);spawn(r,s).on("close",(e=>{0==e?o.checkout?function(){const[e,r]=buildCheckoutCommand(o.checkout,o);spawn(e,r,{cwd:t}).on("close",(function(e){0==e?n():a(new Error("'git checkout' failed with status "+e))}))}():n():a(new Error("'git clone' failed with status "+e))}))};const impl=impl$1;var promise=function(e,t,o){return new Promise(((n,a)=>{impl(e,t,o||{},n,a)}))},clone=getDefaultExportFromCjs(promise);async function CloneGithubRepo(e,t){try{return await clone(e,t),t}catch(e){return null}}function GetRepositoryName(e){if(!/^(https?:\/\/)?(www\.)?github\.com\/(\w+)\/(\w+)/i.test(e))return null;const t=e.match(/github\.com\/(\w+)\/(\w+)/i);return t&&t.length>=3?(t[1],t[2]):null}async function CloneTemplateRequest$3(e,t,o=!0){const n=e.GithubRepoURL,a=GetRepositoryName(n);if(!a)return void console.log(instance.t("xcc3uqbc"));const r=e.TemplatesFolderPath;if(!r)return void console.log(instance.t("xsbJcaxB"));const s=path.join(r,a);null!=await CloneGithubRepo(n,s)?(console.log(instance.t("x0jpYimz")),console.log(instance.t("xnUnA1kj"))):console.log(instance.t("xaejKP3U"))}function CloneTemplate$3(e,t){e.setActionType("CloneTemplate",(async function(e){await CloneTemplateRequest$3(e)}))}function SetAddCommandFromGithubAsyncActions(e,t){CloneTemplate$3(e),setChatGPTGetter$h(e),setCreateMaslowJSON$j(e,t),openFilesInVSCode$j(e,t)}const AddCommandInFolderAsyncAction=(e,t)=>({type:"AddCommandInFolder"});function CreateCommandActions(e,t,o){return[AddCommandInFolderAsyncAction()]?.filter((e=>e))}function initCreateCommandGenerator(e,t){e.setGenerator(CommandNames.create_command,{description:instance.t("xSTp2BmR"),prompts:CreateCommandPrompts(),actions:function(e){return CreateCommandActions()}})}function OpenFilesInVSCodeAndPrintMsg$i(e,t){return path.join(t,`${e.GptQuestionName}`,"Maslow.json"),path.join(t,`${e.GptQuestionName}`,"question.txt"),path.join(t,`${e.GptQuestionName}`,`${e.AnswerFileName?.trim()}`),"ðŸŒž ðŸŒ¼"}function openFilesInVSCode$i(e,t){e.setActionType("OUVRE_FICHIERS_CREES",(e=>{const o=OpenFilesInVSCodeAndPrintMsg$i(e,t);console.log(o)}))}async function makeCHATGPTRequest$g(e,t,o=!0){}function setChatGPTGetter$g(e,t){e.setActionType("REQUETE_CHAT_GPT_QUESTION",(async function(e){await makeCHATGPTRequest$g()}))}function createMaslowJSONAndStuff$g(e,t){const o=path.join(e,`${t.GptQuestionName}/Maslow.json`),n=path.join(e,`${t.GptQuestionName}/question.txt`),a=path.join(e,`${t.GptQuestionName}/${t.AnswerFileName?.trim()}`);CreateFileFromScratch(a,t.chat_gpt_output),CreateFileFromScratch(n,t.CreateCommand),CreateFileFromScratch(o,JSON.stringify({question:t.CreateCommand,questionPath:n,answer:t.chat_gpt_output,answerPath:a},null,2))}function setCreateMaslowJSON$i(e,t){e.setActionType("CREATION_HISTORIQUE",(e=>{createMaslowJSONAndStuff$g(t,e)}))}function FileExists(e){try{return fs__default.accessSync(e,fs__default.constants.F_OK),!0}catch(e){return!1}}const directoriesToIgnore=[".git","node_modules","build","dist","temp"];function RenameFolders({rootFolder:e,replacements:t}){try{const o=fs__default.readdirSync(e);for(const n of o){const o=path.join(e,n);if(fs__default.statSync(o).isDirectory()){let a=!1;if(directoriesToIgnore?.includes(n));else{for(const r in t)if(n?.includes(r)){const s=n?.replace(r,t[r]),i=path.join(e,s);fs__default.renameSync(o,i),a=!0,RenameFolders({rootFolder:i,replacements:t});break}a||RenameFolders({rootFolder:o,replacements:t})}}}return!0}catch(e){return!1}}function RenameFoldersAndFiles({rootFolder:e,replacements:t}){try{const o=fs__default.readdirSync(e);for(const n of o){const o=path.join(e,n);if(fs__default.statSync(o).isDirectory()){if(!directoriesToIgnore?.includes(n)){let a=!1;for(const r in t)if(n?.includes(r)){const s=n.replace(r,t[r]),i=path.join(e,s);fs__default.renameSync(o,i),a=!0,RenameFoldersAndFiles({rootFolder:i,replacements:t});break}a||RenameFoldersAndFiles({rootFolder:o,replacements:t})}}else{let a=!1;for(const r in t)if(n?.includes(r)){const s=n.replace(r,t[r]),i=path.join(e,s);fs__default.renameSync(o,i),a=!0;break}}}return!0}catch(e){return console.log(e),!1}}async function AddCommandInFolderRequest(e,t,o=!0){const n=e.TemplatesFolderPath;if(FileExists(n)){const t=e.CustomCommandName,o=path.join(n,t),a=await CloneGithubRepo("https://github.com/MaslowCorporation/AwesomeMaslowCommand",o);null!=a?(console.log(instance.t("x0jpYimz")),console.log(instance.t("xnUnA1kj")),readFilesRecursively(a,[".json",".js",".txt"],[".git","assets","node_modules"]).map((e=>getPathWithForwardSlashes(path.join(a,e)))).forEach((e=>{const o=GetFileContentsIfExisting(e);let n;n=o?.replace(new RegExp("AwesomeMaslowCommand","g"),t?.toLowerCase()),n!=o&&CreateFileFromScratch(e,n)})),RenameFolders({rootFolder:a,replacements:{AwesomeMaslowCommand:t?.toLowerCase()}})):console.log(instance.t("xaejKP3U"))}else console.log(instance.t("x1ZlLYtT"))}function AddCommandInFolder(e,t){e.setActionType("AddCommandInFolder",(async function(e){await AddCommandInFolderRequest(e)}))}function SetCreateCommandAsyncActions(e,t){AddCommandInFolder(e),setChatGPTGetter$g(e),setCreateMaslowJSON$i(e,t),openFilesInVSCode$i(e,t)}const GatherInfoAsyncAction=(e,t)=>({type:"GatherInfo"}),CreateTemplateWithInfoAsyncAction=(e,t)=>({type:"CreateTemplateWithInfo"});function CreateTemplateActions(e,t,o){return[GatherInfoAsyncAction(),CreateTemplateWithInfoAsyncAction()]?.filter((e=>e))}function initCreateTemplateGenerator(e,t){e.setGenerator(CommandNames.create_template,{description:instance.t("xcpvauVl"),prompts:CreateTemplatePrompts(),actions:function(e){return CreateTemplateActions()}})}function OpenFilesInVSCodeAndPrintMsg$h(e,t){return path.join(t,`${e.GptQuestionName}`,"Maslow.json"),path.join(t,`${e.GptQuestionName}`,"question.txt"),path.join(t,`${e.GptQuestionName}`,`${e.AnswerFileName?.trim()}`),"ðŸŒž ðŸŒ¼"}function openFilesInVSCode$h(e,t){e.setActionType("OUVRE_FICHIERS_CREES",(e=>{const o=OpenFilesInVSCodeAndPrintMsg$h(e,t);console.log(o)}))}async function makeCHATGPTRequest$f(e,t,o=!0){}function setChatGPTGetter$f(e,t){e.setActionType("REQUETE_CHAT_GPT_QUESTION",(async function(e){await makeCHATGPTRequest$f()}))}function createMaslowJSONAndStuff$f(e,t){const o=path.join(e,`${t.GptQuestionName}/Maslow.json`),n=path.join(e,`${t.GptQuestionName}/question.txt`),a=path.join(e,`${t.GptQuestionName}/${t.AnswerFileName?.trim()}`);CreateFileFromScratch(a,t.chat_gpt_output),CreateFileFromScratch(n,t.CreateTemplate),CreateFileFromScratch(o,JSON.stringify({question:t.CreateTemplate,questionPath:n,answer:t.chat_gpt_output,answerPath:a},null,2))}function setCreateMaslowJSON$h(e,t){e.setActionType("CREATION_HISTORIQUE",(e=>{createMaslowJSONAndStuff$f(t,e)}))}async function GatherInfoRequest(e,t,o=!0){const n=getDataFromNPMMaslowJSON("TemplatesFolderPath"),a=getDataFromNPMMaslowJSON("TemplateList"),r=path.join(n,a,"./template_prompts.txt"),s=FileExists(path.join(n,a,"./TemplateFolder")),i=GetJSONObjectFromPath(r);return s&&i?.push(OutputFolderPathPromptText(t)),i&&await PromptUser(i),42}function GatherInfo(e,t){e.setActionType("GatherInfo",(async function(e){await GatherInfoRequest(e,t)}))}function CreateTemplateFolder({templateFolderPath:e,textReplacements:t,fileNameReplacements:o,outputFolderPath:n}){try{return fs__default.existsSync(e)&&0!==fs__default.readdirSync(e).length?(fs__default.existsSync(n)||fs__default.mkdirSync(n,{recursive:!0}),fs__default.readdirSync(e,{withFileTypes:!0}).forEach((a=>{const r=path.join(e,a.name),s=path.join(n,applyFileNameReplacements(a.name,o));if(a.isDirectory())CreateTemplateFolder({templateFolderPath:r,textReplacements:t,fileNameReplacements:o,outputFolderPath:s});else{const e=applyTextReplacements(fs__default.readFileSync(r,"utf8"),t);fs__default.writeFileSync(s,e)}})),n):null}catch(e){return console.log(instance.t("xrb92Hjs"),e),null}}function applyTextReplacements(e,t){return t.forEach((t=>{const o=new RegExp(t.text,"g");e=e.replace(o,t.replaceTextWith)})),e}function applyFileNameReplacements(e,t){return t.forEach((t=>{const o=new RegExp(t.text,"g");e=e.replace(o,t.replaceTextWith)})),e}async function CreateTemplateWithInfoRequest(e,t,o=!0){const n=e.TemplateList,a=getDataFromNPMMaslowJSON("TemplatesFolderPath"),r=path.join(a,n),s=path.join(r,"./template_edits.txt"),i=GetJSONObjectFromPath(s),p=i?.map((t=>(t.replaceTextWith=e[t.promptName],t))),c=path.join(r,"./template_path_edits.txt"),l=GetJSONObjectFromPath(c),d=l?.map((t=>(t.replaceTextWith=e[t.promptName],t))),m=e.TemplateOutputPath??"",u=path.join(t,m),h=CreateTemplateFolder({templateFolderPath:path.join(r,"TemplateFolder"),textReplacements:p,fileNameReplacements:d,outputFolderPath:u}),A=path.join(r,"./index.js"),C=`file://${A}`,F=FileExists(A)&&await import(C);"function"==typeof F?.main&&await F.main(e,t,h)}function CreateTemplateWithInfo(e,t){e.setActionType("CreateTemplateWithInfo",(async function(e){await CreateTemplateWithInfoRequest(e,t)}))}function SetCreateTemplateAsyncActions(e,t){GatherInfo(e,t),CreateTemplateWithInfo(e,t),setChatGPTGetter$f(e),setCreateMaslowJSON$h(e,t),openFilesInVSCode$h(e,t)}function SetTemplatesFolderActions(e,t,o){return[]?.filter((e=>e))}function initSetTemplatesFolderGenerator(e,t){e.setGenerator(CommandNames.set_templates_folder,{description:instance.t("xR2dbh5i"),prompts:SetTemplatesFolderPrompts(),actions:function(e){return SetTemplatesFolderActions()}})}function OpenFilesInVSCodeAndPrintMsg$g(e,t){return path.join(t,`${e.GptQuestionName}`,"Maslow.json"),path.join(t,`${e.GptQuestionName}`,"question.txt"),path.join(t,`${e.GptQuestionName}`,`${e.AnswerFileName?.trim()}`),"ðŸŒž ðŸŒ¼"}function openFilesInVSCode$g(e,t){e.setActionType("OUVRE_FICHIERS_CREES",(e=>{const o=OpenFilesInVSCodeAndPrintMsg$g(e,t);console.log(o)}))}async function makeCHATGPTRequest$e(e,t,o=!0){}function setChatGPTGetter$e(e,t){e.setActionType("REQUETE_CHAT_GPT_QUESTION",(async function(e){await makeCHATGPTRequest$e()}))}function createMaslowJSONAndStuff$e(e,t){const o=path.join(e,`${t.GptQuestionName}/Maslow.json`),n=path.join(e,`${t.GptQuestionName}/question.txt`),a=path.join(e,`${t.GptQuestionName}/${t.AnswerFileName?.trim()}`);CreateFileFromScratch(a,t.chat_gpt_output),CreateFileFromScratch(n,t.SetTemplatesFolder),CreateFileFromScratch(o,JSON.stringify({question:t.SetTemplatesFolder,questionPath:n,answer:t.chat_gpt_output,answerPath:a},null,2))}function setCreateMaslowJSON$g(e,t){e.setActionType("CREATION_HISTORIQUE",(e=>{createMaslowJSONAndStuff$e(t,e)}))}async function SetTemplatesDirRequest(e,t,o=!0){}function SetTemplatesDir(e,t){e.setActionType("SetTemplatesDir",(async function(e){await SetTemplatesDirRequest()}))}function SetSetTemplatesFolderAsyncActions(e,t){SetTemplatesDir(e),setChatGPTGetter$e(e),setCreateMaslowJSON$g(e,t),openFilesInVSCode$g(e,t)}const GenerateCodeAsyncAction=(e,t)=>({type:"GenerateCode"});function GenerateCodeActions(e,t,o){return[GenerateCodeAsyncAction(),CreateCodeFilesAsyncAction()]?.filter((e=>e))}function initGenerateCodeGenerator(e,t){e.setGenerator(CommandNames.generate_code,{description:instance.t("xLeePaRC"),prompts:GenerateCodePrompts(t),actions:function(e){return GenerateCodeActions()}})}function OpenFilesInVSCodeAndPrintMsg$f(e,t){return path.join(t,`${e.GptQuestionName}`,"Maslow.json"),path.join(t,`${e.GptQuestionName}`,"question.txt"),path.join(t,`${e.GptQuestionName}`,`${e.AnswerFileName?.trim()}`),"ðŸŒž ðŸŒ¼"}function openFilesInVSCode$f(e,t){e.setActionType("OUVRE_FICHIERS_CREES",(e=>{const o=OpenFilesInVSCodeAndPrintMsg$f(e,t);console.log(o)}))}async function makeCHATGPTRequest$d(e,t,o=!0){try{const t=e.GenerateCode,o=await GetChatGPTOutput({model_chosen:getDataFromNPMMaslowJSON("ChooseAIModel")??"gpt-3.5-turbo",prompt:t,onSuccess:e=>{},onError:e=>{ShowErrorMsg(e)},apiKey:MASLOW_API_KEY});if(!o)throw new Error(instance.t("xKtsPDws"));e.chat_gpt_output=o}catch(e){throw new Error(instance.t("xOenCuzf")+` ${e}`)}}function setChatGPTGetter$d(e,t){e.setActionType("REQUETE_CHAT_GPT_QUESTION",(async function(e){await makeCHATGPTRequest$d(e)}))}function createMaslowJSONAndStuff$d(e,t){const o=path.join(e,`${t.GptQuestionName}/Maslow.json`),n=path.join(e,`${t.GptQuestionName}/question.txt`),a=path.join(e,`${t.GptQuestionName}/${t.AnswerFileName?.trim()}`);CreateFileFromScratch(a,t.chat_gpt_output),CreateFileFromScratch(n,t.GenerateCode),CreateFileFromScratch(o,JSON.stringify({question:t.GenerateCode,questionPath:n,answer:t.chat_gpt_output,answerPath:a},null,2))}function setCreateMaslowJSON$f(e,t){e.setActionType("CREATION_HISTORIQUE",(e=>{createMaslowJSONAndStuff$d(t,e)}))}async function GenerateCodeRequest(e,t,o=!0){const n=e.QuestionText;let a,r="";const s=TerminalSpinner(instance.t("xZcjmAM")),i=await MaslowGPTSDK.GetGPTCode({model_chosen:getDataFromNPMMaslowJSON("ChooseAIModel")??"gpt-3.5-turbo",prompt:n+". Give me everything inside one block of code only",onSuccess:e=>{},onProgress:e=>{s.text=GetNewStringPart(r,e.progress),r=e.progress},onError:e=>{a=e,ShowErrorMsg(e)},apiKey:MASLOW_API_KEY});if(s.stop(),!i)throw new Error(a?.response?.data??a?.message);e.chat_gpt_output=i.answer}function GenerateCode(e,t){e.setActionType("GenerateCode",(async function(e){await GenerateCodeRequest(e)}))}function SetGenerateCodeAsyncActions(e,t){GenerateCode(e),CreateCodeFiles(e,t),setChatGPTGetter$d(e),setCreateMaslowJSON$f(e,t),openFilesInVSCode$f(e,t)}const UploadAndCreateAsyncAction=(e,t)=>({type:"UploadAndCreate"});function UploadReadmePicsActions(e,t,o){return[UploadAndCreateAsyncAction()]?.filter((e=>e))}function initUploadReadmePicsGenerator(e,t){e.setGenerator(CommandNames.upload_readme_pics,{description:instance.t("xqpgEfZY"),prompts:UploadReadmePicsPrompts(t),actions:function(e){return UploadReadmePicsActions()}})}function OpenFilesInVSCodeAndPrintMsg$e(e,t){return path.join(t,`${e.GptQuestionName}`,"Maslow.json"),path.join(t,`${e.GptQuestionName}`,"question.txt"),path.join(t,`${e.GptQuestionName}`,`${e.AnswerFileName?.trim()}`),"ðŸŒž ðŸŒ¼"}function openFilesInVSCode$e(e,t){e.setActionType("OUVRE_FICHIERS_CREES",(e=>{const o=OpenFilesInVSCodeAndPrintMsg$e(e,t);console.log(o)}))}async function makeCHATGPTRequest$c(e,t,o=!0){}function setChatGPTGetter$c(e,t){e.setActionType("REQUETE_CHAT_GPT_QUESTION",(async function(e){await makeCHATGPTRequest$c()}))}function createMaslowJSONAndStuff$c(e,t){const o=path.join(e,`${t.GptQuestionName}/Maslow.json`),n=path.join(e,`${t.GptQuestionName}/question.txt`),a=path.join(e,`${t.GptQuestionName}/${t.AnswerFileName?.trim()}`);CreateFileFromScratch(a,t.chat_gpt_output),CreateFileFromScratch(n,t.UploadReadmePics),CreateFileFromScratch(o,JSON.stringify({question:t.UploadReadmePics,questionPath:n,answer:t.chat_gpt_output,answerPath:a},null,2))}function setCreateMaslowJSON$e(e,t){e.setActionType("CREATION_HISTORIQUE",(e=>{createMaslowJSONAndStuff$c(t,e)}))}const UploadPicsToREADME=async(e,t,o)=>{};async function UploadAndCreateRequest(e,t,o=!0){try{const o=e.GetApiKey,n=e.GetReadmeFolderPath;return void await UploadPicsToREADME(n,o,t)}catch(e){throw new Error(instance.t("xou7IB3V")+` ${e}`)}}function UploadAndCreate(e,t){e.setActionType("UploadAndCreate",(async function(e){await UploadAndCreateRequest(e,t)}))}function SetUploadReadmePicsAsyncActions(e,t){UploadAndCreate(e,t),setChatGPTGetter$c(e),setCreateMaslowJSON$e(e,t),openFilesInVSCode$e(e,t)}const CreateReadmeSkeletonAsyncAction=(e,t)=>({type:"CreateReadmeSkeleton"});function CreateReadmeFromPicsActions(e,t,o){return[CreateReadmeSkeletonAsyncAction()]?.filter((e=>e))}function initCreateReadmeFromPicsGenerator(e,t){e.setGenerator(CommandNames.create_readme_from_pics,{description:instance.t("xc5PBkT"),prompts:CreateReadmeFromPicsPrompts(t),actions:function(e){return CreateReadmeFromPicsActions()}})}function OpenFilesInVSCodeAndPrintMsg$d(e,t){return path.join(t,`${e.GptQuestionName}`,"Maslow.json"),path.join(t,`${e.GptQuestionName}`,"question.txt"),path.join(t,`${e.GptQuestionName}`,`${e.AnswerFileName?.trim()}`),"ðŸŒž ðŸŒ¼"}function openFilesInVSCode$d(e,t){e.setActionType("OUVRE_FICHIERS_CREES",(e=>{const o=OpenFilesInVSCodeAndPrintMsg$d(e,t);console.log(o)}))}async function makeCHATGPTRequest$b(e,t,o=!0){}function setChatGPTGetter$b(e,t){e.setActionType("REQUETE_CHAT_GPT_QUESTION",(async function(e){await makeCHATGPTRequest$b()}))}function createMaslowJSONAndStuff$b(e,t){const o=path.join(e,`${t.GptQuestionName}/Maslow.json`),n=path.join(e,`${t.GptQuestionName}/question.txt`),a=path.join(e,`${t.GptQuestionName}/${t.AnswerFileName?.trim()}`);CreateFileFromScratch(a,t.chat_gpt_output),CreateFileFromScratch(n,t.CreateReadmeFromPics),CreateFileFromScratch(o,JSON.stringify({question:t.CreateReadmeFromPics,questionPath:n,answer:t.chat_gpt_output,answerPath:a},null,2))}function setCreateMaslowJSON$d(e,t){e.setActionType("CREATION_HISTORIQUE",(e=>{createMaslowJSONAndStuff$b(t,e)}))}async function CreateReadmeSkeletonRequest(e,t,o=!0){try{const o=e.GetPicsFolder,n=getPathWithForwardSlashes(path.join(t,o)),a=e.GetReadmeFolder,r=path.join(t,a),s=`README_${GetUniqueID(5)}.md`,i=getPathWithForwardSlashes(path.join(r,s)),p=e.GetReadmeTitle;let c=readFilesRecursively(n,null,null),l=`\n# ${p}`;c?.map((e=>{const t=getPathWithForwardSlashes(path.join(o,e)),n=GetRelativePathFromTo(r,t);l+=`\n\n***Do some shizzle, my nizzle***\n\n<p align="center">\n  <img src="${n}" alt="">\n</p>`})),CreateFileFromScratch(i,l)}catch(e){throw new Error(instance.t("xdBaAaM")+` ${e}`)}}function CreateReadmeSkeleton(e,t){e.setActionType("CreateReadmeSkeleton",(async function(e){await CreateReadmeSkeletonRequest(e,t)}))}function SetCreateReadmeFromPicsAsyncActions(e,t){CreateReadmeSkeleton(e,t),setChatGPTGetter$b(e),setCreateMaslowJSON$d(e,t),openFilesInVSCode$d(e,t)}const CloneTemplateAsyncAction$2=(e,t)=>({type:"CloneTemplate"}),ReplaceWordsInFolderAsyncAction$2=(e,t)=>({type:"ReplaceWordsInFolder"});function CreateBackendServerActions(e,t,o){return[CloneTemplateAsyncAction$2(),ReplaceWordsInFolderAsyncAction$2()]?.filter((e=>e))}function initCreateBackendServerGenerator(e,t){e.setGenerator(CommandNames.create_backend_server,{description:instance.t("x0UC3ByU"),prompts:CreateBackendServerPrompts(),actions:function(e){return CreateBackendServerActions()}})}function OpenFilesInVSCodeAndPrintMsg$c(e,t){return path.join(t,`${e.GptQuestionName}`,"Maslow.json"),path.join(t,`${e.GptQuestionName}`,"question.txt"),path.join(t,`${e.GptQuestionName}`,`${e.AnswerFileName?.trim()}`),"ðŸŒž ðŸŒ¼"}function openFilesInVSCode$c(e,t){e.setActionType("OUVRE_FICHIERS_CREES",(e=>{const o=OpenFilesInVSCodeAndPrintMsg$c(e,t);console.log(o)}))}async function makeCHATGPTRequest$a(e,t,o=!0){}function setChatGPTGetter$a(e,t){e.setActionType("REQUETE_CHAT_GPT_QUESTION",(async function(e){await makeCHATGPTRequest$a()}))}function createMaslowJSONAndStuff$a(e,t){const o=path.join(e,`${t.GptQuestionName}/Maslow.json`),n=path.join(e,`${t.GptQuestionName}/question.txt`),a=path.join(e,`${t.GptQuestionName}/${t.AnswerFileName?.trim()}`);CreateFileFromScratch(a,t.chat_gpt_output),CreateFileFromScratch(n,t.CreateBackendServer),CreateFileFromScratch(o,JSON.stringify({question:t.CreateBackendServer,questionPath:n,answer:t.chat_gpt_output,answerPath:a},null,2))}function setCreateMaslowJSON$c(e,t){e.setActionType("CREATION_HISTORIQUE",(e=>{createMaslowJSONAndStuff$a(t,e)}))}async function CloneTemplateRequest$2(e,t,o=!0){try{console.log(instance.t("xbx9kk0m"));const o=e.ServerName,n=path.join(t,o),a=await CloneGithubRepo("https://github.com/MaslowCorporation/AwesomeBackendServer",n);null!=a?(console.log(instance.t("x0jpYimz")),console.log(instance.t("xnUnA1kj")),e.repoPath=a):console.log(instance.t("xaejKP3U"))}catch(e){console.log(instance.t("xaejKP3U"))}}function CloneTemplate$2(e,t){e.setActionType("CloneTemplate",(async function(e){await CloneTemplateRequest$2(e,t)}))}async function ReplaceWordsInFolderRequest$2(e,t,o=!0){try{const o=e.repoPath,n=e.ServerName;null!=o&&(readFilesRecursively(o,[".json",".md",""],[".git","assets"]).map((e=>getPathWithForwardSlashes(path.join(t,n,e)))).forEach((e=>{const t=GetFileContentsRaw(e);let o;o=t?.replace(new RegExp("maslow-gpt-api-v2","g"),n?.toLowerCase()),o!=t&&CreateFileFromScratch(e,o)})),RenameFolders({rootFolder:path.join(t,n),replacements:{"maslow-gpt-api-v2":n?.toLowerCase()}}))}catch(e){throw new Error(instance.t("xgod98Kd")+` ${e}`)}}function ReplaceWordsInFolder$2(e,t){e.setActionType("ReplaceWordsInFolder",(async function(e){await ReplaceWordsInFolderRequest$2(e,t)}))}function SetCreateBackendServerAsyncActions(e,t){CloneTemplate$2(e,t),ReplaceWordsInFolder$2(e,t),setChatGPTGetter$a(e),setCreateMaslowJSON$c(e,t),openFilesInVSCode$c(e,t)}function SetApiKeyActions(e,t,o){return[]?.filter((e=>e))}function initSetApiKeyGenerator(e,t){e.setGenerator(CommandNames.set_api_key,{description:instance.t("xcGkATai"),prompts:SetApiKeyPrompts(),actions:function(e){return SetApiKeyActions()}})}function OpenFilesInVSCodeAndPrintMsg$b(e,t){return path.join(t,`${e.GptQuestionName}`,"Maslow.json"),path.join(t,`${e.GptQuestionName}`,"question.txt"),path.join(t,`${e.GptQuestionName}`,`${e.AnswerFileName?.trim()}`),"ðŸŒž ðŸŒ¼"}function openFilesInVSCode$b(e,t){e.setActionType("OUVRE_FICHIERS_CREES",(e=>{const o=OpenFilesInVSCodeAndPrintMsg$b(e,t);console.log(o)}))}async function makeCHATGPTRequest$9(e,t,o=!0){}function setChatGPTGetter$9(e,t){e.setActionType("REQUETE_CHAT_GPT_QUESTION",(async function(e){await makeCHATGPTRequest$9()}))}function createMaslowJSONAndStuff$9(e,t){const o=path.join(e,`${t.GptQuestionName}/Maslow.json`),n=path.join(e,`${t.GptQuestionName}/question.txt`),a=path.join(e,`${t.GptQuestionName}/${t.AnswerFileName?.trim()}`);CreateFileFromScratch(a,t.chat_gpt_output),CreateFileFromScratch(n,t.SetApiKey),CreateFileFromScratch(o,JSON.stringify({question:t.SetApiKey,questionPath:n,answer:t.chat_gpt_output,answerPath:a},null,2))}function setCreateMaslowJSON$b(e,t){e.setActionType("CREATION_HISTORIQUE",(e=>{createMaslowJSONAndStuff$9(t,e)}))}async function SaveAPIKeyRequest(e,t,o=!0){}function SaveAPIKey(e,t){e.setActionType("SaveAPIKey",(async function(e){await SaveAPIKeyRequest()}))}function SetSetApiKeyAsyncActions(e,t){SaveAPIKey(e),setChatGPTGetter$9(e),setCreateMaslowJSON$b(e,t),openFilesInVSCode$b(e,t)}function initAddSdkMethodAndCie({creationFolderFromAppRoot:e,promptData:t}){return[]}function createAddSdkMethodFolder1(e){const t=e.SDKMethodName,o="plop-templates/hbs-files/TemplateSDKMethodLong",n=path.join(getNPMFolderRoot(),o),a=`src/services/${t}`;return createTemplateFromFolder({templateFolderPath:n,templateFolderPathFromAppRoot:o,creationFolderFromAppRoot:a,wordsInFilePath:[{word:"TemplateGPTCompletion",replaceWordWith:`${t}`}],wordsInFile:[{word:"TemplateGPTCompletion",replaceWordWith:`${t}`}],wordsInHBSFileName:{word:"TemplateGPTCompletion",replaceWordWith:`${t}`}}).concat(initAddSdkMethodAndCie({creationFolderFromAppRoot:a,promptData:e}))}const AddSDKMethodToExportsAsyncAction=(e,t)=>({type:"AddSDKMethodToExports"});function AddSdkMethodActions(e,t,o){const n=createAddSdkMethodFolder1(e);return[...n,AddSDKMethodToExportsAsyncAction()]?.filter((e=>e))}function initAddSdkMethodGenerator(e,t){e.setGenerator(CommandNames.add_sdk_method,{description:instance.t("x5CmgvNA"),prompts:AddSdkMethodPrompts(),actions:function(e){return AddSdkMethodActions(e)}})}function OpenFilesInVSCodeAndPrintMsg$a(e,t){return path.join(t,`${e.GptQuestionName}`,"Maslow.json"),path.join(t,`${e.GptQuestionName}`,"question.txt"),path.join(t,`${e.GptQuestionName}`,`${e.AnswerFileName?.trim()}`),"ðŸŒž ðŸŒ¼"}function openFilesInVSCode$a(e,t){e.setActionType("OUVRE_FICHIERS_CREES",(e=>{const o=OpenFilesInVSCodeAndPrintMsg$a(e,t);console.log(o)}))}async function makeCHATGPTRequest$8(e,t,o=!0){}function setChatGPTGetter$8(e,t){e.setActionType("REQUETE_CHAT_GPT_QUESTION",(async function(e){await makeCHATGPTRequest$8()}))}function createMaslowJSONAndStuff$8(e,t){const o=path.join(e,`${t.GptQuestionName}/Maslow.json`),n=path.join(e,`${t.GptQuestionName}/question.txt`),a=path.join(e,`${t.GptQuestionName}/${t.AnswerFileName?.trim()}`);CreateFileFromScratch(a,t.chat_gpt_output),CreateFileFromScratch(n,t.AddSdkMethod),CreateFileFromScratch(o,JSON.stringify({question:t.AddSdkMethod,questionPath:n,answer:t.chat_gpt_output,answerPath:a},null,2))}function setCreateMaslowJSON$a(e,t){e.setActionType("CREATION_HISTORIQUE",(e=>{createMaslowJSONAndStuff$8(t,e)}))}async function AddSDKMethodToExportsRequest(e,t,o=!0){try{InjectStuffUnderPatterns(`${t}/src/index.ts`,[{pattern:"/* PLOP_INJECT_IMPORT */",stuffUnderPattern:`import ${e.SDKMethodName} from "./services/${e.SDKMethodName}/${e.SDKMethodName}.js";`,deletePreviousStuff:!1,indent:!0},{pattern:"/* PLOP_INJECT_SDK_METHOD */",stuffUnderPattern:`\n  ${e.SDKMethodName},\n`,deletePreviousStuff:!1,indent:!0}])}catch(e){throw new Error(`${e}`)}}function AddSDKMethodToExports(e,t){e.setActionType("AddSDKMethodToExports",(async function(e){await AddSDKMethodToExportsRequest(e,t)}))}function SetAddSdkMethodAsyncActions(e,t){AddSDKMethodToExports(e,t),setChatGPTGetter$8(e),setCreateMaslowJSON$a(e,t),openFilesInVSCode$a(e,t)}function initAddApiEndpointAndCie({creationFolderFromAppRoot:e,promptData:t}){return[]}function createAddApiEndpointFolder1(e){const t=e.EndpointName,o="plop-templates/hbs-files/TemplateAPIEndpointLong",n=path.join(getNPMFolderRoot(),o),a=path.join("src/endpoints",t+"Endpoint");return createTemplateFromFolder({templateFolderPath:n,templateFolderPathFromAppRoot:o,creationFolderFromAppRoot:a,wordsInFilePath:[{word:"long_http_request_endpoint",replaceWordWith:t}],wordsInFile:[{word:"long_http_request_endpoint",replaceWordWith:t}],wordsInHBSFileName:{word:"long_http_request_endpoint",replaceWordWith:t}}).concat(initAddApiEndpointAndCie({creationFolderFromAppRoot:a,promptData:e}))}const AddImportAndEndpointInitAsyncAction=(e,t)=>({type:"AddImportAndEndpointInit"});function AddApiEndpointActions(e,t,o){const n=createAddApiEndpointFolder1(e);return[...n,AddImportAndEndpointInitAsyncAction()]?.filter((e=>e))}function initAddApiEndpointGenerator(e,t){e.setGenerator(CommandNames.add_api_endpoint,{description:instance.t("xPnaZmk"),prompts:AddApiEndpointPrompts(),actions:function(e){return AddApiEndpointActions(e)}})}function OpenFilesInVSCodeAndPrintMsg$9(e,t){return path.join(t,`${e.GptQuestionName}`,"Maslow.json"),path.join(t,`${e.GptQuestionName}`,"question.txt"),path.join(t,`${e.GptQuestionName}`,`${e.AnswerFileName?.trim()}`),"ðŸŒž ðŸŒ¼"}function openFilesInVSCode$9(e,t){e.setActionType("OUVRE_FICHIERS_CREES",(e=>{const o=OpenFilesInVSCodeAndPrintMsg$9(e,t);console.log(o)}))}async function makeCHATGPTRequest$7(e,t,o=!0){}function setChatGPTGetter$7(e,t){e.setActionType("REQUETE_CHAT_GPT_QUESTION",(async function(e){await makeCHATGPTRequest$7()}))}function createMaslowJSONAndStuff$7(e,t){const o=path.join(e,`${t.GptQuestionName}/Maslow.json`),n=path.join(e,`${t.GptQuestionName}/question.txt`),a=path.join(e,`${t.GptQuestionName}/${t.AnswerFileName?.trim()}`);CreateFileFromScratch(a,t.chat_gpt_output),CreateFileFromScratch(n,t.AddApiEndpoint),CreateFileFromScratch(o,JSON.stringify({question:t.AddApiEndpoint,questionPath:n,answer:t.chat_gpt_output,answerPath:a},null,2))}function setCreateMaslowJSON$9(e,t){e.setActionType("CREATION_HISTORIQUE",(e=>{createMaslowJSONAndStuff$7(t,e)}))}async function AddImportAndEndpointInitRequest(e,t,o=!0){try{InjectStuffUnderPatterns(`${t}/index.js`,[{pattern:"/* PLOP_INJECT_IMPORT */",stuffUnderPattern:`import { ${e.EndpointName}Endpoint } from "./src/endpoints/${e.EndpointName}Endpoint/${e.EndpointName}Endpoint.js";`,deletePreviousStuff:!1,indent:!0},{pattern:"/* PLOP_INJECT_ENDPOINT_INIT */",stuffUnderPattern:`\n// crÃ©e un endpoint nommÃ© ${e.EndpointName}\n// reachable via http://localhost:<apiPort>/${e.EndpointName}\n${e.EndpointName}Endpoint(app);\n`,deletePreviousStuff:!1,indent:!0}]),InjectStuffUnderPatterns(`${t}/src/BackgroundWorker/worker.js`,[{pattern:"// PLOP_INJECT_ENDPOINT_JOB_IMPORT",stuffUnderPattern:`\nimport { ${e.EndpointName}Job } from '../endpoints/${e.EndpointName}Endpoint/pieces/DoTheAPIWork/pieces/${e.EndpointName}Job.js';\n`,deletePreviousStuff:!1,indent:!0},{pattern:"// PLOP_INJECT_ENDPOINT_JOB_CASE",stuffUnderPattern:`\ncase "${e.EndpointName}":\n  // do something\n  output = ${e.EndpointName}Job(job);\n\n  break;\n`,deletePreviousStuff:!1,indent:!0}])}catch(e){throw new Error(`${e}`)}}function AddImportAndEndpointInit(e,t){e.setActionType("AddImportAndEndpointInit",(async function(e){await AddImportAndEndpointInitRequest(e,t)}))}function SetAddApiEndpointAsyncActions(e,t){AddImportAndEndpointInit(e,t),setChatGPTGetter$7(e),setCreateMaslowJSON$9(e,t),openFilesInVSCode$9(e,t)}const CloneTemplateAsyncAction$1=(e,t)=>({type:"CloneTemplate"}),ReplaceWordsInFolderAsyncAction$1=(e,t)=>({type:"ReplaceWordsInFolder"});function CreateNpmPackageActions(e,t,o){return[CloneTemplateAsyncAction$1(),ReplaceWordsInFolderAsyncAction$1()]?.filter((e=>e))}function initCreateNpmPackageGenerator(e,t){e.setGenerator(CommandNames.create_npm_package,{description:instance.t("xuYZqFVb"),prompts:CreateNpmPackagePrompts(),actions:function(e){return CreateNpmPackageActions()}})}function OpenFilesInVSCodeAndPrintMsg$8(e,t){return path.join(t,`${e.GptQuestionName}`,"Maslow.json"),path.join(t,`${e.GptQuestionName}`,"question.txt"),path.join(t,`${e.GptQuestionName}`,`${e.AnswerFileName?.trim()}`),"ðŸŒž ðŸŒ¼"}function openFilesInVSCode$8(e,t){e.setActionType("OUVRE_FICHIERS_CREES",(e=>{const o=OpenFilesInVSCodeAndPrintMsg$8(e,t);console.log(o)}))}async function makeCHATGPTRequest$6(e,t,o=!0){}function setChatGPTGetter$6(e,t){e.setActionType("REQUETE_CHAT_GPT_QUESTION",(async function(e){await makeCHATGPTRequest$6()}))}function createMaslowJSONAndStuff$6(e,t){const o=path.join(e,`${t.GptQuestionName}/Maslow.json`),n=path.join(e,`${t.GptQuestionName}/question.txt`),a=path.join(e,`${t.GptQuestionName}/${t.AnswerFileName?.trim()}`);CreateFileFromScratch(a,t.chat_gpt_output),CreateFileFromScratch(n,t.CreateNpmPackage),CreateFileFromScratch(o,JSON.stringify({question:t.CreateNpmPackage,questionPath:n,answer:t.chat_gpt_output,answerPath:a},null,2))}function setCreateMaslowJSON$8(e,t){e.setActionType("CREATION_HISTORIQUE",(e=>{createMaslowJSONAndStuff$6(t,e)}))}async function CloneTemplateRequest$1(e,t,o=!0){try{console.log(instance.t("xbx9kk0m"));const o=e.PkgName,n=path.join(t,o);deleteFolderIfExisting(n);const a=await CloneGithubRepo("https://github.com/MaslowCorporation/AwesomeNPMTemplate",n);null!=a?(console.log(instance.t("x0jpYimz")),console.log(instance.t("xnUnA1kj")),e.repoPath=a):console.log(instance.t("xaejKP3U"))}catch(e){console.log(instance.t("xaejKP3U"))}}function CloneTemplate$1(e,t){e.setActionType("CloneTemplate",(async function(e){await CloneTemplateRequest$1(e,t)}))}async function ReplaceWordsInFolderRequest$1(e,t,o=!0){try{const o=e.repoPath,n=e.PkgName;null!=o&&readFilesRecursively(o,[".json",".md",".gradle",".java",".xml",".mm",".plist",".storyboard",".pbxproj",".xcscheme",".m",""],[".git","assets"]).map((e=>getPathWithForwardSlashes(path.join(t,n,e)))).forEach((e=>{const t=GetFileContentsRaw(e),o=t?.replace(new RegExp("maslow-gpt-sdk","g"),n?.toLowerCase());o!=t&&CreateFileFromScratch(e,o)}))}catch(e){throw new Error(instance.t("xazrUvFS")+` ${e}`)}}function ReplaceWordsInFolder$1(e,t){e.setActionType("ReplaceWordsInFolder",(async function(e){await ReplaceWordsInFolderRequest$1(e,t)}))}function SetCreateNpmPackageAsyncActions(e,t){CloneTemplate$1(e,t),ReplaceWordsInFolder$1(e,t),setChatGPTGetter$6(e),setCreateMaslowJSON$8(e,t),openFilesInVSCode$8(e,t)}function SetAiModelActions(e,t,o){return[]?.filter((e=>e))}function initSetAiModelGenerator(e,t){e.setGenerator(CommandNames.set_ai_model,{description:instance.t("xU1bcxGH"),prompts:SetAiModelPrompts(),actions:function(e){return SetAiModelActions()}})}function OpenFilesInVSCodeAndPrintMsg$7(e,t){return path.join(t,`${e.GptQuestionName}`,"Maslow.json"),path.join(t,`${e.GptQuestionName}`,"question.txt"),path.join(t,`${e.GptQuestionName}`,`${e.AnswerFileName?.trim()}`),"ðŸŒž ðŸŒ¼"}function openFilesInVSCode$7(e,t){e.setActionType("OUVRE_FICHIERS_CREES",(e=>{const o=OpenFilesInVSCodeAndPrintMsg$7(e,t);console.log(o)}))}async function makeCHATGPTRequest$5(e,t,o=!0){}function setChatGPTGetter$5(e,t){e.setActionType("REQUETE_CHAT_GPT_QUESTION",(async function(e){await makeCHATGPTRequest$5()}))}function createMaslowJSONAndStuff$5(e,t){const o=path.join(e,`${t.GptQuestionName}/Maslow.json`),n=path.join(e,`${t.GptQuestionName}/question.txt`),a=path.join(e,`${t.GptQuestionName}/${t.AnswerFileName?.trim()}`);CreateFileFromScratch(a,t.chat_gpt_output),CreateFileFromScratch(n,t.SetAiModel),CreateFileFromScratch(o,JSON.stringify({question:t.SetAiModel,questionPath:n,answer:t.chat_gpt_output,answerPath:a},null,2))}function setCreateMaslowJSON$7(e,t){e.setActionType("CREATION_HISTORIQUE",(e=>{createMaslowJSONAndStuff$5(t,e)}))}async function SetNewAIModelRequest(e,t,o=!0){}function SetNewAIModel(e,t){e.setActionType("SetNewAIModel",(async function(e){await SetNewAIModelRequest()}))}function SetSetAiModelAsyncActions(e,t){SetNewAIModel(e),setChatGPTGetter$5(e),setCreateMaslowJSON$7(e,t),openFilesInVSCode$7(e,t)}const ExtractSrcObjectAsyncAction=(e,t)=>({type:"ExtractSrcObject"}),TranslateSrcAsyncAction=(e,t)=>({type:"TranslateSrc"});function TranslateStringsActions(e,t,o){return[ExtractSrcObjectAsyncAction(),TranslateSrcAsyncAction()]?.filter((e=>e))}function initTranslateStringsGenerator(e,t){e.setGenerator(CommandNames.translate_strings,{description:instance.t("x9LjGiUr"),prompts:TranslateStringsPrompts(t),actions:function(e){return TranslateStringsActions()}})}function OpenFilesInVSCodeAndPrintMsg$6(e,t){return path.join(t,`${e.GptQuestionName}`,"Maslow.json"),path.join(t,`${e.GptQuestionName}`,"question.txt"),path.join(t,`${e.GptQuestionName}`,`${e.AnswerFileName?.trim()}`),"ðŸŒž ðŸŒ¼"}function openFilesInVSCode$6(e,t){e.setActionType("OUVRE_FICHIERS_CREES",(e=>{const o=OpenFilesInVSCodeAndPrintMsg$6(e,t);console.log(o)}))}async function makeCHATGPTRequest$4(e,t,o=!0){}function setChatGPTGetter$4(e,t){e.setActionType("REQUETE_CHAT_GPT_QUESTION",(async function(e){await makeCHATGPTRequest$4()}))}function createMaslowJSONAndStuff$4(e,t){const o=path.join(e,`${t.GptQuestionName}/Maslow.json`),n=path.join(e,`${t.GptQuestionName}/question.txt`),a=path.join(e,`${t.GptQuestionName}/${t.AnswerFileName?.trim()}`);CreateFileFromScratch(a,t.chat_gpt_output),CreateFileFromScratch(n,t.TranslateStrings),CreateFileFromScratch(o,JSON.stringify({question:t.TranslateStrings,questionPath:n,answer:t.chat_gpt_output,answerPath:a},null,2))}function setCreateMaslowJSON$6(e,t){e.setActionType("CREATION_HISTORIQUE",(e=>{createMaslowJSONAndStuff$4(t,e)}))}function GrabSteakInSandwich({filePath:e,patternStart:t,patternEnd:o}){try{let n=GetFileContentsIfExisting(e);const a=n.indexOf(t);if(-1===a)return null;const r=n.indexOf(o,a+t.length);return-1===r?null:n.substring(a+t.length,r)}catch(e){return console.log(e),null}}function FormatObjectToJSON(jsonString){jsonString=jsonString?.trim();var result=eval("("+jsonString+")");return result}async function ExtractSrcObjectRequest(e,t,o=!0){let n;try{n=getPathWithForwardSlashes(path.join(t,e.ChooseAppStrings));let o=GrabSteakInSandwich({filePath:n,patternStart:"/* PLOP_INJECT_SRC_STRING */",patternEnd:"/* PLOP_INJECT_SRC_END */"});if(o=o?.trim(),o=o.endsWith(",")?o.slice(0,-1):o,o=`{ ${o} }`,o=FormatObjectToJSON(o),!o)throw new Error(instance.t("x1WoS6z")+`${n}`);e.srcObj=o}catch(e){throw new Error(instance.t("xhWjtLSQ")+`${n}: ${e}`)}}function ExtractSrcObject(e,t){e.setActionType("ExtractSrcObject",(async function(e){await ExtractSrcObjectRequest(e,t)}))}const AllLanguagesCodes={English:"en","Mandarin (Chinese)":"zh",Hindi:"hi",Spanish:"es",Bengali:"bn",Portuguese:"pt",Russian:"ru",Japanese:"ja",German:"de",Korean:"ko",French:"fr",Vietnamese:"vi",Italian:"it",Tamil:"ta",Telugu:"te",Javanese:"jv",Marathi:"mr",Malayalam:"ml",Arabic:"ar",Urdu:"ur",Thai:"th",Polish:"pl","Persian (Farsi)":"fa",Turkish:"tr",Gujarati:"gu",Ukrainian:"uk",Burmese:"my",Czech:"cs",Indonesian:"id",Romanian:"ro",Finnish:"fi",Hebrew:"he",Hungarian:"hu",Dutch:"nl",Kannada:"kn","Khmer (Cambodian)":"km",Lao:"lo",Belarusian:"be",Latin:"la",Yiddish:"yi",Kazakh:"kk",Pashto:"ps",Sundanese:"su",Swedish:"sv",Uzbek:"uz",Serbian:"sr",Greek:"el",Bulgarian:"bg",Amharic:"am",Nepali:"ne",Dari:"prs",Lithuanian:"lt",Hausa:"ha","Mirpuri (Punjabi)":"pa",Bosnian:"bs",Azerbaijani:"az",Chuvash:"cv",Slovak:"sk","Tagalog (Filipino)":"tl",Kyrgyz:"ky",Sinhalese:"si",Danish:"da",Albanian:"sq",Uighur:"ug",Macedonian:"mk",Luxembourgish:"lb","Luba-Katanga":"lu",Tajik:"tg","Irish (Gaelic)":"ga",Laothian:"lo",Oriya:"or",Esperanto:"eo","Korean (North)":"ko-kp",Tigrigna:"ti",Tatar:"tt",Duwuits:"fy",Cherokee:"chr",Slovenian:"sl",Hawaiian:"haw",Hmong:"hmn",Samoan:"sm",Kinyarwanda:"rw",Swahili:"sw",Chichewa:"ny",Igbo:"ig","Haitian Creole":"ht",Bashkir:"ba",Tibetan:"bo",Ewe:"ee",Maori:"mi",Yoruba:"yo",Palauan:"pau","Inuktitut (Eskimo)":"iu",Faroese:"fo",Gilbertese:"gil",Breton:"br",Chamorro:"ch",Frisian:"fy",Sindhi:"sd","Scots Gaelic":"gd",Wolof:"wo","Tonga (Tonga Islands)":"to",Moldovan:"mo",Kirghiz:"ky",Somali:"so",Cheyenne:"chy",Neapolitan:"nap",Khakas:"kjh",Tokelau:"tkl",Tahitian:"ty",Limburgish:"li","Karachay-Balkar":"krc",Yupik:"ypk",Komi:"kv",Adyghe:"ady",Udi:"udi","Ossetian (Ossetic)":"os",Gagauz:"gag","Greenlandic (Kalaallisut)":"kl","Punjabi (Eastern)":"pa-IN",Avaric:"av",Nauru:"na",Kabyle:"kab","Torres Strait Creole":"tcs",Karelian:"krl","Sakha (Yakut)":"sah",Tuvan:"tyv","Northern Sami":"se",Aymara:"ay",Masai:"mas",Romani:"rom","GuaranÃ­":"gn",Lingala:"ln",Venda:"ve","Buryat (Russia)":"bxr",Jumprum:"jpr",Romansh:"rm",Konkani:"kok","Min Nan (Taiwanese)":"nan",Kikuyu:"ki",Bemba:"bem",Luganda:"lg",Maltese:"mt",Kirundi:"rn",Sardinian:"sc","Panjabi (Western)":"pa",Twi:"tw","Mapudungun (Mapuche)":"arn",Bihari:"bh",Tswana:"tn",Hiligaynon:"hil",Karaim:"kdr",Shona:"sn",Bislama:"bi","Ndebele (North)":"nd","Dimli (Kirdki)":"diq",Akan:"ak",Khasi:"kha",Estonian:"et",Sesotho:"st",Kalmyk:"xal",Ganda:"lg","Aceh (Acehnese)":"ace","Luba-Lulua":"lua",Moksha:"mdf","Interlingua (International)":"ia","Yoruba (Benin, Togo)":"yo",Croatian:"hr",Yezidi:"xez",Kashubian:"csb",Zazaki:"diq",Vai:"vai","Buriat (Russia)":"bua",Zulu:"zu",Sumerian:"sux",Veps:"vep","Sotho (Southern)":"st",Kabardian:"kbd","Mingrelian (Megrelian)":"xmf",Ndonga:"ng","Uyghur (Wighor)":"ug",Abkhaz:"ab",Tulu:"tcy",Fijian:"fj",Kuy:"kdt","Baga Kaloum":"bgq","Bats (Svan)":"sva","Rarotongan (Cook Islands Maori)":"rar",Erzya:"myv",Zhuang:"za",Mansi:"mns","QuichÃ© (K'iche')":"quc","Komi-Permyak":"koi",Rhunic:"otr","Ojibwe (Chippewa, Ojibwa)":"oj",Venetian:"vec",Saurashtra:"saz",Chipewyan:"chp","Inupiat (Inupiaq)":"ik","Inuktitut (Greenlandic)":"iu","Manx Gaelic":"gv",Bakhtiari:"bqi",Cornish:"kw"};async function TranslateSrcRequest(e,t,o=!0){try{const o=path.join(t,e.ChooseAppStrings),n=e.ChooseLanguage,a=await TranslateObject({model_chosen:getDataFromNPMMaslowJSON("ChooseAIModel")??"gpt-3.5-turbo",obj:e.srcObj,language:n,apiKey:MASLOW_API_KEY,print:!0,retries:2,onError:e=>{ShowErrorMsg(e)}}),r=a?.answer,s=AllLanguagesCodes[n],i=s?.replace(/-/g,"_");if(r){let t=path.join(process.cwd(),path.dirname(e.ChooseAppStrings),"translations",`strings_${i}.js`);CreateFileFromScratch(t,`\nconst strings_${i} = ${JSON.stringify(r,null,2)}\n        \nexport { strings_${i} };`),InjectStuffUnderPatterns(getPathWithForwardSlashes(o),[{addOnTop:!0,stuffUnderPattern:`import { strings_${i} } from "./translations/strings_${i}.js";`,deletePreviousIdenticalLine:!0,indent:!1}]),InjectStuffUnderPatterns(getPathWithForwardSlashes(o),[{pattern:"/* PLOP_INJECT_INTL_STRINGS */",stuffUnderPattern:`"${s}": {\n  translation: strings_${i},\n},`,deletePreviousIdenticalLine:!0,indent:!0}])}}catch(e){throw new Error(instance.t("xND250zp")+` ${e}`)}}function TranslateSrc(e,t){e.setActionType("TranslateSrc",(async function(e){await TranslateSrcRequest(e,t)}))}function SetTranslateStringsAsyncActions(e,t){ExtractSrcObject(e,t),TranslateSrc(e,t),setChatGPTGetter$4(e),setCreateMaslowJSON$6(e,t),openFilesInVSCode$6(e,t)}const CloneTemplateAsyncAction=(e,t)=>({type:"CloneTemplate"}),ReplaceWordsInFolderAsyncAction=(e,t)=>({type:"ReplaceWordsInFolder"});function CreateReactNativeAppActions(e,t,o){return[CloneTemplateAsyncAction(),ReplaceWordsInFolderAsyncAction()]?.filter((e=>e))}function initCreateReactNativeAppGenerator(e,t){e.setGenerator(CommandNames.create_react_native_app,{description:instance.t("xh2pv5R"),prompts:CreateReactNativeAppPrompts(),actions:function(e){return CreateReactNativeAppActions()}})}function OpenFilesInVSCodeAndPrintMsg$5(e,t){return path.join(t,`${e.GptQuestionName}`,"Maslow.json"),path.join(t,`${e.GptQuestionName}`,"question.txt"),path.join(t,`${e.GptQuestionName}`,`${e.AnswerFileName?.trim()}`),"ðŸŒž ðŸŒ¼"}function openFilesInVSCode$5(e,t){e.setActionType("OUVRE_FICHIERS_CREES",(e=>{const o=OpenFilesInVSCodeAndPrintMsg$5(e,t);console.log(o)}))}async function makeCHATGPTRequest$3(e,t,o=!0){}function setChatGPTGetter$3(e,t){e.setActionType("REQUETE_CHAT_GPT_QUESTION",(async function(e){await makeCHATGPTRequest$3()}))}function createMaslowJSONAndStuff$3(e,t){const o=path.join(e,`${t.GptQuestionName}/Maslow.json`),n=path.join(e,`${t.GptQuestionName}/question.txt`),a=path.join(e,`${t.GptQuestionName}/${t.AnswerFileName?.trim()}`);CreateFileFromScratch(a,t.chat_gpt_output),CreateFileFromScratch(n,t.CreateReactNativeApp),CreateFileFromScratch(o,JSON.stringify({question:t.CreateReactNativeApp,questionPath:n,answer:t.chat_gpt_output,answerPath:a},null,2))}function setCreateMaslowJSON$5(e,t){e.setActionType("CREATION_HISTORIQUE",(e=>{createMaslowJSONAndStuff$3(t,e)}))}async function CloneTemplateRequest(e,t,o=!0){try{console.log(instance.t("xbx9kk0m"));const o=e.AppName,n=path.join(t,o),a=await CloneGithubRepo("https://github.com/MaslowCorporation/AwesomeRNTemplate",n);null!=a?(console.log(instance.t("x0jpYimz")),console.log(instance.t("xnUnA1kj")),e.repoPath=a):console.log(instance.t("xaejKP3U"))}catch(e){console.log(instance.t("xaejKP3U"))}}function CloneTemplate(e,t){e.setActionType("CloneTemplate",(async function(e){await CloneTemplateRequest(e,t)}))}async function ReplaceWordsInFolderRequest(e,t,o=!0){try{const o=e.repoPath,n=e.AppName;null!=o&&(readFilesRecursively(o,[".js",".json",".gradle",".java",".xml",".md",".mm",".plist",".storyboard",".pbxproj",".xcscheme",".m",".kt",".xcworkspacedata",""],[".git","assets"]).map((e=>getPathWithForwardSlashes(path.join(t,n,e)))).forEach((e=>{const t=GetFileContentsRaw(e);let o;o=t?.replace(new RegExp("arduinogpt","g"),n?.toLowerCase()),o=o?.replace(new RegExp("ArduinoGPT","g"),n?.toLowerCase()),o!=t&&CreateFileFromScratch(e,o)})),RenameFoldersAndFiles({rootFolder:path.join(t,n),replacements:{arduinogpt:n?.toLowerCase()}}))}catch(e){throw new Error(instance.t("xswQgzFF")+` ${e}`)}}function ReplaceWordsInFolder(e,t){e.setActionType("ReplaceWordsInFolder",(async function(e){await ReplaceWordsInFolderRequest(e,t)}))}function SetCreateReactNativeAppAsyncActions(e,t){CloneTemplate(e,t),ReplaceWordsInFolder(e,t),setChatGPTGetter$3(e),setCreateMaslowJSON$5(e,t),openFilesInVSCode$5(e,t)}const DuplicateFileOrFolder=(e,t)=>{if(!fs__default.existsSync(e))throw new Error(instance.t("xIrFx5L1"));if(fs__default.existsSync(t))throw new Error(instance.t("xCOJorIP")+t);if(fs__default.lstatSync(e).isFile())CreateFileFromScratch(t,""),fs__default.copyFileSync(e,t);else{if(!fs__default.lstatSync(e).isDirectory())throw new Error(instance.t("xAEx89al")+`${e}`);fs__default.readdirSync(e).forEach((o=>{DuplicateFileOrFolder(path.join(e,o),path.join(t,o))}))}},DuplicateBitchAppendAction=(e,t)=>{const o=path.join(t,e.OriginalPath),n=e.DuplicatePath;switch(checkPathType(n)){case"path":const e=path.join(t,n);DuplicateFileOrFolder(o,e);break;case"list_paths":n.split(";").forEach((e=>{const n=path.join(t,e);DuplicateFileOrFolder(o,n)}));break;default:console.log(instance.t("xAgOlRzO")+n)}};function checkPathType(e){const t=e.split(";");return 1!==t.length||e?.includes(";")?t.length>1&&t.every((e=>""!==e?.trim()))?"list_paths":"caca":"path"}function DuplicateThingActions(e,t,o){return[DuplicateBitchAppendAction(e,t)]?.filter((e=>e))}function initDuplicateThingGenerator(e,t){e.setGenerator(CommandNames.duplicate_thing,{description:instance.t("xkH37GcM"),prompts:DuplicateThingPrompts(t),actions:function(e){return DuplicateThingActions(e,t)}})}function OpenFilesInVSCodeAndPrintMsg$4(e,t){return path.join(t,`${e.GptQuestionName}`,"Maslow.json"),path.join(t,`${e.GptQuestionName}`,"question.txt"),path.join(t,`${e.GptQuestionName}`,`${e.AnswerFileName?.trim()}`),"ðŸŒž ðŸŒ¼"}function openFilesInVSCode$4(e,t){e.setActionType("OUVRE_FICHIERS_CREES",(e=>{const o=OpenFilesInVSCodeAndPrintMsg$4(e,t);console.log(o)}))}async function makeCHATGPTRequest$2(e,t=!0){}function setChatGPTGetter$2(e){e.setActionType("REQUETE_CHAT_GPT_QUESTION",(async function(e){await makeCHATGPTRequest$2()}))}function createMaslowJSONAndStuff$2(e,t){const o=path.join(e,`${t.GptQuestionName}/Maslow.json`),n=path.join(e,`${t.GptQuestionName}/question.txt`),a=path.join(e,`${t.GptQuestionName}/${t.AnswerFileName?.trim()}`);CreateFileFromScratch(a,t.chat_gpt_output),CreateFileFromScratch(n,t.DuplicateThing),CreateFileFromScratch(o,JSON.stringify({question:t.DuplicateThing,questionPath:n,answer:t.chat_gpt_output,answerPath:a},null,2))}function setCreateMaslowJSON$4(e,t){e.setActionType("CREATION_HISTORIQUE",(e=>{createMaslowJSONAndStuff$2(t,e)}))}function SetDuplicateThingAsyncActions(e,t){setChatGPTGetter$2(e),setCreateMaslowJSON$4(e,t),openFilesInVSCode$4(e,t)}const DeleteFileOrFolder=e=>{try{if(!e||"string"!=typeof e)throw new TypeError(instance.t("xIYfJTRI"));return path.extname(e)?deleteFileIfExisting(e):deleteFolderIfExisting(e),!0}catch(e){return!1}},DeleteZeShytAction=(e,t)=>{const o=path.join(t,e.DeletePath);DeleteFileOrFolder(o)};function DeleteThingActions(e,t,o){return[DeleteZeShytAction(e,t)]?.filter((e=>e))}function initDeleteThingGenerator(e,t){e.setGenerator(CommandNames.delete_thing,{description:instance.t("xvMAMhv"),prompts:DeleteThingPrompts(t),actions:function(e){return DeleteThingActions(e,t)}})}function DeleteOldRequestShit(e,t){const o=`${e.GptQuestionName}`,n=path.join(t,o);DeleteFolderContents({folderPath:n,whiteList:["pieces","Maslow.json","prompts","QNA"]})}function deleteCaca$2(e,t){e.setActionType("SUPPRESSION_DECHETS",((e,o,n)=>{DeleteOldRequestShit(e,t)}))}function OpenFilesInVSCodeAndPrintMsg$3(e,t){return path.join(t,`${e.GptQuestionName}`,"Maslow.json"),path.join(t,`${e.GptQuestionName}`,"question.txt"),path.join(t,`${e.GptQuestionName}`,`${e.AnswerFileName?.trim()}`),"ðŸŒž ðŸŒ¼"}function openFilesInVSCode$3(e,t){e.setActionType("OUVRE_FICHIERS_CREES",(e=>{const o=OpenFilesInVSCodeAndPrintMsg$3(e,t);console.log(o)}))}async function makeCHATGPTRequest$1(e,t=!0){}function setChatGPTGetter$1(e){e.setActionType("REQUETE_CHAT_GPT_QUESTION",(async function(e){await makeCHATGPTRequest$1()}))}function createMaslowJSONAndStuff$1(e,t){const o=path.join(e,`${t.GptQuestionName}/Maslow.json`),n=path.join(e,`${t.GptQuestionName}/question.txt`),a=path.join(e,`${t.GptQuestionName}/${t.AnswerFileName?.trim()}`);CreateFileFromScratch(a,t.chat_gpt_output),CreateFileFromScratch(n,t.DeleteThing),CreateFileFromScratch(o,JSON.stringify({question:t.DeleteThing,questionPath:n,answer:t.chat_gpt_output,answerPath:a},null,2))}function setCreateMaslowJSON$3(e,t){e.setActionType("CREATION_HISTORIQUE",(e=>{createMaslowJSONAndStuff$1(t,e)}))}function SetDeleteThingAsyncActions(e,t){setChatGPTGetter$1(e),deleteCaca$2(e,t),setCreateMaslowJSON$3(e,t),openFilesInVSCode$3(e,t)}function AddCommandActionsActions(e,t,o){return[...createAddCommandFolder6(e)]}function initAddCommandActionsGenerator(e,t){e.setGenerator(CommandNames.add_command_actions,{description:instance.t("xsrB7M7y"),prompts:AddCommandActionsPrompts(),actions:function(e){return AddCommandActionsActions(e)}})}function DeleteOldFunctionShit$1(e,t){const o=`${e.ask_for_subfolder}/${e.name}`,n=path.join(t,o);DeleteFolderContents({folderPath:n,whiteList:["pieces","Maslow.json","prompts"]})}function deleteCaca$1(e,t){e.setActionType("SUPPRESSION_DECHETS",((e,o,n)=>{DeleteOldFunctionShit$1(e,t)}))}function OpenFilesInVSCodeAndPrintMsg$2(e,t){const o=e.ask_for_js_file;let n=o!=Constants.noChoice?o:null;const a=e.gold_caviar.inspiringMessage[0],r=e.gold_caviar.codeInstall[0],s=getPathWithForwardSlashes(path.join(e.ask_for_subfolder,e.name)),i=`${Constants.regeneration_command} ${s}`,p=`\n\n${instance.t("xGZ1dJ7M")}\n\n${r}\n\n${instance.t("xjBxze0p")}\n\n${i}\n\n${instance.t("xBOoVhne")} ðŸŒž\n\n${a} ðŸŒ¼\n\n`;n&&(n=path.join(t,n));const c=`${e.ask_for_subfolder}/${e.name}/${e.name}.${e.gold_caviar.codeExtension[0]}`;return path.join(t,c),path.join(t,`${e.ask_for_subfolder}/${e.name}/prompts/get_ai_service_language.txt`),path.join(t,`${e.ask_for_subfolder}/${e.name}/prompts/get_ai_service_args.txt`),path.join(t,`${e.ask_for_subfolder}/${e.name}/prompts/get_ai_service_description.txt`),path.join(t,`${e.ask_for_subfolder}/${e.name}/prompts/get_ai_service_return_value.txt`),p}function openFilesInVSCode$2(e,t){e.setActionType("OUVRE_FICHIERS_CREES",(e=>{const o=OpenFilesInVSCodeAndPrintMsg$2(e,t);console.log(o)}))}async function makeCHATGPTFuncRequest$1(e,t=!0){try{const t=await GetChatGPTFunction({model_chosen:getDataFromNPMMaslowJSON("ChooseAIModel")??"gpt-3.5-turbo",functionName:e.name,functionLanguage:e.get_ai_service_language,functionPurpose:e.get_ai_service_description,functionArgs:e.get_ai_service_args,functionReturnValue:e.get_ai_service_return_value,apiKey:MASLOW_API_KEY,onSuccess:e=>e,onError:e=>{ShowErrorMsg(e)},printDebug:!1});if(!t)throw new Error(instance.t("xptmTemz"));e.gold_caviar=t}catch(e){throw new Error(instance.t("xjlXjpF")+` ${e}`)}}function setChatGPTFunctionGetter$1(e){e.setActionType("REQUETE_CHAT_GPT",(async function(e){await makeCHATGPTFuncRequest$1(e)}))}function setCodeUsageIfNeeded$1(e,t){e.setActionType("AJOUTE_CODE_UTILISANT_FONCTION",(e=>{AddCodeUseExample(e,t)}))}function setCreateFunctionAction$1(e,t){e.setActionType("CREATION_FICHIER_FONCTION",(e=>{CreateNewFunctionShit(e,t)}))}function setCreateMaslowJSON$2(e,t){e.setActionType("CREATION_HISTORIQUE",(e=>{createFullMaslowJSONFile(t,e)}))}function SetAddCommandActionsAsyncActions(e,t){setChatGPTFunctionGetter$1(e),deleteCaca$1(e,t),setCreateFunctionAction$1(e,t),setCreateMaslowJSON$2(e,t),setCodeUsageIfNeeded$1(e,t),openFilesInVSCode$2(e,t)}function AddCommandPromptsActions(e,t,o){return[...createAddCommandFolder2(e)]}function initAddCommandPromptsGenerator(e,t){e.setGenerator(CommandNames.add_command_prompts,{description:instance.t("xfFLf4p"),prompts:AddCommandPromptsPrompts(),actions:function(e){return AddCommandPromptsActions(e)}})}function DeleteOldFunctionShit(e,t){const o=`${e.ask_for_subfolder}/${e.name}`,n=path.join(t,o);DeleteFolderContents({folderPath:n,whiteList:["pieces","Maslow.json","prompts"]})}function deleteCaca(e,t){e.setActionType("SUPPRESSION_DECHETS",((e,o,n)=>{DeleteOldFunctionShit(e,t)}))}function OpenFilesInVSCodeAndPrintMsg$1(e,t){const o=e.ask_for_js_file;let n=o!=Constants.noChoice?o:null;const a=e.gold_caviar.inspiringMessage[0],r=e.gold_caviar.codeInstall[0],s=getPathWithForwardSlashes(path.join(e.ask_for_subfolder,e.name)),i=`${Constants.regeneration_command} ${s}`,p=`\n\n${instance.t("xGZ1dJ7M")}\n\n${r}\n\n${instance.t("xjBxze0p")}\n\n${i}\n\n${instance.t("xBOoVhne")} ðŸŒž\n\n${a} ðŸŒ¼\n\n`;n&&(n=path.join(t,n));const c=`${e.ask_for_subfolder}/${e.name}/${e.name}.${e.gold_caviar.codeExtension[0]}`;return path.join(t,c),path.join(t,`${e.ask_for_subfolder}/${e.name}/prompts/get_ai_service_language.txt`),path.join(t,`${e.ask_for_subfolder}/${e.name}/prompts/get_ai_service_args.txt`),path.join(t,`${e.ask_for_subfolder}/${e.name}/prompts/get_ai_service_description.txt`),path.join(t,`${e.ask_for_subfolder}/${e.name}/prompts/get_ai_service_return_value.txt`),p}function openFilesInVSCode$1(e,t){e.setActionType("OUVRE_FICHIERS_CREES",(e=>{const o=OpenFilesInVSCodeAndPrintMsg$1(e,t);console.log(o)}))}async function makeCHATGPTFuncRequest(e,t=!0){try{const t=await GetChatGPTFunction({model_chosen:getDataFromNPMMaslowJSON("ChooseAIModel")??"gpt-3.5-turbo",functionName:e.name,functionLanguage:e.get_ai_service_language,functionPurpose:e.get_ai_service_description,functionArgs:e.get_ai_service_args,functionReturnValue:e.get_ai_service_return_value,apiKey:MASLOW_API_KEY,onSuccess:e=>e,onError:e=>{ShowErrorMsg(e)},printDebug:!1});if(!t)throw new Error(instance.t("xW0d870o"));e.gold_caviar=t}catch(e){throw new Error(instance.t("xPBYLvMK")+` ${e}`)}}function setChatGPTFunctionGetter(e){e.setActionType("REQUETE_CHAT_GPT",(async function(e){await makeCHATGPTFuncRequest(e)}))}function setCodeUsageIfNeeded(e,t){e.setActionType("AJOUTE_CODE_UTILISANT_FONCTION",(e=>{AddCodeUseExample(e,t)}))}function setCreateFunctionAction(e,t){e.setActionType("CREATION_FICHIER_FONCTION",(e=>{CreateNewFunctionShit(e,t)}))}function setCreateMaslowJSON$1(e,t){e.setActionType("CREATION_HISTORIQUE",(e=>{createFullMaslowJSONFile(t,e)}))}function SetAddCommandPromptsAsyncActions(e,t){setChatGPTFunctionGetter(e),deleteCaca(e,t),setCreateFunctionAction(e,t),setCreateMaslowJSON$1(e,t),setCodeUsageIfNeeded(e,t),openFilesInVSCode$1(e,t)}function AskQuestionActions(e,t,o){return[{type:"REQUETE_CHAT_GPT_QUESTION"},{type:"CREATION_HISTORIQUE"},{type:"OUVRE_FICHIERS_CREES"}]}function initAskQuestionGenerator(e,t){e.setGenerator(CommandNames.ask_question,{description:instance.t("xJUAaWiA"),prompts:AskQuestionPrompts(t),actions:function(e){return AskQuestionActions()}})}function OpenFilesInVSCodeAndPrintMsg(e,t){return path.join(t,`${e.GptQuestionName}/Maslow.json`),path.join(t,`${e.GptQuestionName}/question.txt`),path.join(t,`${e.GptQuestionName}/${e.AnswerFileName?.trim()}`),"ðŸŒž ðŸŒ¼"}function openFilesInVSCode(e,t){e.setActionType("OUVRE_FICHIERS_CREES",(e=>{const o=OpenFilesInVSCodeAndPrintMsg(e,t);console.log(o)}))}async function makeCHATGPTRequest(e,t=!0){try{const t=e.AskQuestion;let o,n="";const a=TerminalSpinner(instance.t("xjoI8RAE")),r=await GetChatGPTOutput({model_chosen:getDataFromNPMMaslowJSON("ChooseAIModel")??"gpt-3.5-turbo",prompt:t,onSuccess:e=>{},onProgress:e=>{a.text=GetNewStringPart(n,e.progress),n=e.progress},onError:e=>{o=e,ShowErrorMsg(e)},apiKey:MASLOW_API_KEY});if(a.stop(),r)return void(e.chat_gpt_output=r.answer.result);throw new Error(o?.response?.data??o?.message)}catch(e){throw new Error(`${e}`)}}function setChatGPTGetter(e){e.setActionType("REQUETE_CHAT_GPT_QUESTION",(async function(e){await makeCHATGPTRequest(e)}))}function createMaslowJSONAndStuff(e,t){const o=path.join(e,`${t.GptQuestionName}/Maslow.json`),n=path.join(e,`${t.GptQuestionName}/question.txt`),a=path.join(e,`${t.GptQuestionName}/${t.AnswerFileName?.trim()}`);CreateFileFromScratch(a,t.chat_gpt_output),CreateFileFromScratch(n,t.AskQuestion),CreateFileFromScratch(o,JSON.stringify({question:t.AskQuestion,questionPath:n,answer:t.chat_gpt_output,answerPath:a},null,2))}function setCreateMaslowJSON(e,t){e.setActionType("CREATION_HISTORIQUE",(e=>{createMaslowJSONAndStuff(t,e)}))}function SetAskQuestionAsyncActions(e,t){setChatGPTGetter(e),setCreateMaslowJSON(e,t),openFilesInVSCode(e,t)}function initAllGenerators(e){const t=process.cwd(),o=process.argv[2];o==CommandNames.generate?(initThingGenerator(e,t),setAIFunctionActions(e,t)):o==CommandNames.generate_audio_from_text?(initGenerateAudioFromTextGenerator(e),SetGenerateAudioFromTextAsyncActions(e,t)):o==CommandNames.generate_art?(initGenerateArtGenerator(e),SetGenerateArtAsyncActions(e,t)):o==CommandNames.generate_code_from_folder?(initGenerateCodeFromFolderGenerator(e,t),SetGenerateCodeFromFolderAsyncActions(e,t)):o==CommandNames.load_code_folder?(initLoadCodeFolderGenerator(e),SetLoadCodeFolderAsyncActions(e,t)):o==CommandNames.add_command_from_github?(initAddCommandFromGithubGenerator(e),SetAddCommandFromGithubAsyncActions(e,t)):o==CommandNames.create_command?(initCreateCommandGenerator(e),SetCreateCommandAsyncActions(e,t)):o==CommandNames.create_template?(initCreateTemplateGenerator(e),SetCreateTemplateAsyncActions(e,t)):o==CommandNames.set_templates_folder?(initSetTemplatesFolderGenerator(e),SetSetTemplatesFolderAsyncActions(e,t)):o==CommandNames.generate_code?(initGenerateCodeGenerator(e,t),SetGenerateCodeAsyncActions(e,t)):o==CommandNames.upload_readme_pics?(initUploadReadmePicsGenerator(e,t),SetUploadReadmePicsAsyncActions(e,t)):o==CommandNames.create_readme_from_pics?(initCreateReadmeFromPicsGenerator(e,t),SetCreateReadmeFromPicsAsyncActions(e,t)):o==CommandNames.create_backend_server?(initCreateBackendServerGenerator(e),SetCreateBackendServerAsyncActions(e,t)):o==CommandNames.set_api_key?(initSetApiKeyGenerator(e),SetSetApiKeyAsyncActions(e,t)):o==CommandNames.add_sdk_method?(initAddSdkMethodGenerator(e),SetAddSdkMethodAsyncActions(e,t)):o==CommandNames.add_api_endpoint?(initAddApiEndpointGenerator(e),SetAddApiEndpointAsyncActions(e,t)):o==CommandNames.create_npm_package?(initCreateNpmPackageGenerator(e),SetCreateNpmPackageAsyncActions(e,t)):o==CommandNames.set_ai_model?(initSetAiModelGenerator(e),SetSetAiModelAsyncActions(e,t)):o==CommandNames.translate_strings?(initTranslateStringsGenerator(e,t),SetTranslateStringsAsyncActions(e,t)):o==CommandNames.create_react_native_app?(initCreateReactNativeAppGenerator(e),SetCreateReactNativeAppAsyncActions(e,t)):o==CommandNames.duplicate_thing?(initDuplicateThingGenerator(e,t),SetDuplicateThingAsyncActions(e,t)):o==CommandNames.delete_thing?(initDeleteThingGenerator(e,t),SetDeleteThingAsyncActions(e,t)):o==CommandNames.add_command_actions?(initAddCommandActionsGenerator(e),SetAddCommandActionsAsyncActions(e,t)):o==CommandNames.add_command_prompts?(initAddCommandPromptsGenerator(e),SetAddCommandPromptsAsyncActions(e,t)):o==CommandNames.ask_question?(initAskQuestionGenerator(e,t),SetAskQuestionAsyncActions(e,t)):o==CommandNames.add_string?initAddIntlString(e,t):o==CommandNames.add_command?(initAddCommandGenerator(e),AddCommandAsynchronousActions(e,t)):o==CommandNames.add_default_app_template?initAddDefaultTemplate(e,t):o==CommandNames.add_ui&&initAddQuestion(e,t)}function plopfile(e){initAllGenerators(e)}export{plopfile as default};
